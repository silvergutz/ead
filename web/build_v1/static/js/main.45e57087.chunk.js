(this["webpackJsonpead-frontend-web"]=this["webpackJsonpead-frontend-web"]||[]).push([[0],[,,function(e,t,a){"use strict";var r=a(27);a.d(t,"a",(function(){return r.a}));var n=a(13);a.d(t,"b",(function(){return n.a}));var s=a(8);a.d(t,"c",(function(){return s.a}));a(35),a(11),a(17),a(22),a(14)},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(18),n=(Object(r.a)(),a(16));var s=function(e){if(e.response){if(404===e.response.status)return{response:e.response,error:"P\xe1gina n\xe3o encontrada"};if(e.response.data){var t=Object(n.a)({},e.response.data);return e.response.data.error||(t.error="Infelizmente n\xe3o foi poss\xedvel carregar o conte\xfado",t.respose=e.response),t}}return{response:e.response,error:e.message}}},,function(e,t,a){"use strict";var r=a(47),n=a(64),s=new r.a,c={sendMessage:o,sendDebugMessage:function(e){return o({content:e,type:"debug"})},sendInfoMessage:function(e){return o({content:e,type:"info"})},sendSuccessMessage:function(e){return o({content:e,type:"success"})},sendWarningMessage:function(e){return o({content:e,type:"warning"})},sendErrorMessage:function(e){return o({content:e,type:"error"})},clearMessages:function(){return s.next()},getMessage:function(){return s.asObservable()}};function o(e){e.id||(e.id=Object(n.v1)()),"debug"!==e.type&&(e.autoClose=!0,["info","success"].indexOf(e.type)>-1?e.autoCloseTime=3e3:e.autoCloseTime=7e3),s.next(e)}t.a=c},,function(e,t,a){"use strict";var r=a(1),n=a.n(r),s=a(3),c=a(4),o=a(0),u=a.n(o),l=a(35);t.a=function(e){var t=Object(o.useState)(!1),a=Object(c.a)(t,2),r=a[0],i=a[1],m=Object(o.useState)(!1),d=Object(c.a)(m,2),p=d[0],_=d[1],f=Object(o.useState)(!1),E=Object(c.a)(f,2),b=E[0],v=E[1];return Object(o.useEffect)((function(){function t(){return(t=Object(s.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.next=3,Object(l.a)(e.file);case 3:(a=t.sent)?i(a):_(!0),v(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.file]),r||b||p?b?u.a.createElement("img",{src:"/images/loader.gif",className:"loading",alt:"carregando",width:"28",height:"28"}):p?u.a.createElement("span",{className:"image-load-error"},"Imagem indispon\xedvel"):u.a.createElement("img",Object.assign({alt:""},e,{src:r,onLoad:function(){r&&URL.revokeObjectURL(r)}})):""}},function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return _})),a.d(t,"e",(function(){return E})),a.d(t,"a",(function(){return v}));var r=a(1),n=a.n(r),s=a(3),c=a(15),o=a.n(c),u=a(2),l=a(6);function i(e,t){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(n.a.mark((function e(t,a){var r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={s:t||""},a&&(r.progress=!0),s=o.a.stringify(r),e.next=6,u.a.get("/users"+(s?"?".concat(s):""));case 6:return c=e.sent,e.abrupt("return",c.data);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Object(l.a)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(t,a){var r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a&&(r=o.a.stringify({progress:1})),e.next=4,u.a.get("/users/".concat(t)+(r?"?".concat(r):""));case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(l.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/users",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(l.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(e,t){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.put("/users/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(l.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.delete("/users/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(l.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},,function(e,t,a){"use strict";var r=a(1),n=a.n(r),s=a(16),c=a(3),o=a(162),u=a(27),l=a(11),i=a(6),m=new o.a(JSON.parse(localStorage.getItem("currentUser"))),d={login:function(e){return u.a.post("/authenticate",e).then((function(e){if(200===e.status&&e.data.token){var t=e.data;return localStorage.setItem("currentUser",JSON.stringify(t)),m.next(t),!0}return e.data}))},logout:function(){localStorage.removeItem("currentUser"),m.next(null)},requestForgotPasswordToken:function(e){return _.apply(this,arguments)},resetPassword:function(e){return f.apply(this,arguments)},isAdmin:function(){var e=d.currentUserValue;if(e&&"manager"===e.level)return!0;return!1},refreshUserData:function(){return p.apply(this,arguments)},currentUser:m.asObservable(),get currentUserValue(){return m.value}};function p(){return(p=Object(c.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(d.currentUserValue.id);case 2:return(t=e.sent).error||(a=Object(s.a)(Object(s.a)({},t),{},{token:d.currentUserValue.token}),localStorage.setItem("currentUser",JSON.stringify(a)),m.next(a)),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("email",t),e.prev=1,e.next=4,u.a.post("/forgot",{email:t});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(i.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(){return(f=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/reset",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t.a=d},function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return E})),a.d(t,"c",(function(){return v})),a.d(t,"f",(function(){return O})),a.d(t,"g",(function(){return j})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return x}));var r=a(1),n=a.n(r),s=a(3),c=a(15),o=a.n(c),u=(a(28),a(26)),l=a(2),i=a(6),m=a(13);function d(e){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=o.a.stringify({s:t||""}),e.next=4,l.a.get("/courses/"+(a?"?".concat(a):""));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t?parseInt(t):m.a.currentUserValue.id,r=o.a.stringify({in_progress:a}),e.next=5,l.a.get("/courses/"+(r?"?".concat(r):""));case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function E(){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(!(t=e.sent).error){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,_();case 7:return a=e.sent,r={inProgress:a.error?[]:a,recent:[],categories:[]},t.forEach((function(e){e.categories&&e.categories.length>0&&e.categories.forEach((function(t){var a=!1;for(var n in r.categories)if(r.categories[n].category.id===t.id){a=n;break}a?r.categories[a].courses.push(e):r.categories.push({category:t,courses:[e]})})),r.recent.length<12&&r.recent.push(e)})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(n.a.mark((function e(t,a){var r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a&&(r=!0===a?m.a.currentUserValue.id:parseInt(a)),s=o.a.stringify({progress:r}),e.next=5,l.a.get("/courses/".concat(t).concat(s?"?".concat(s):""));case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function O(e){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/courses",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(e,t){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("/courses/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/courses/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(i.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(e){var t=e.reduce((function(e,t){return e+u.duration(t.duration).asSeconds()}),0),a=u.duration(t,"seconds"),r=String(24*a.days()+a.hours()).substr(-2);return 1===r.length&&(r="0"+r),r+":"+("0"+a.minutes()).substr(-2)+":"+("0"+a.seconds()).substr(-2)}},,,function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return _})),a.d(t,"a",(function(){return E}));var r=a(1),n=a.n(r),s=a(3),c=a(2),o=a(6);function u(){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/schools");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/schools/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post("/schools",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.put("/schools/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete("/schools/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},,,,,function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return _})),a.d(t,"a",(function(){return E}));var r=a(1),n=a.n(r),s=a(3),c=a(2),o=a(6);function u(){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/categories");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/categories/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post("/categories",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.put("/categories/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete("/categories/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var r=a(8);function n(){r.a.clearMessages();var e=document.querySelectorAll("form .error");e&&e.forEach((function(e){return e.classList.remove("error")}))}function s(e){var t="";e?(t="Alguns campos n\xe3o foram preenchidos corretamente:<br>",t+="<ul>",e.map((function(e){if(t+="<li>".concat(e.detail,"</li>"),e.source.pointer){var a=document.getElementById(e.source.pointer);a&&a.classList.add("error")}})),t+="</ul>"):t="N\xe3o foi poss\xedvel gravar os dados",r.a.sendErrorMessage(t)}},,,,function(e,t,a){"use strict";var r=a(1),n=a.n(r),s=a(3),c=a(28),o=a.n(c),u=a(13),l=o.a.create({baseURL:"http://localhost:3333/api/v1/"});l.interceptors.request.use(function(){var e=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=u.a.currentUserValue)&&a.token&&(t.headers.Authorization="Bearer ".concat(a.token)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.interceptors.response.use((function(e){return e}),function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&-1!==[401,403].indexOf(t.response.status)&&"/login"!==window.location.pathname&&(u.a.logout(),window.location="/login"),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=l},,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(1),n=a.n(r),s=a(3),c=a(27),o=a(15),u=a.n(o),l=function(){var e=Object(s.a)(n.a.mark((function e(t,a){var r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==t.indexOf("http")){e.next=3;break}return e.abrupt("return",t);case 3:return r={},t&&(r.file=t),a&&(r.force=1),e.next=8,c.a.get("download?".concat(u.a.stringify(r)),{responseType:"blob"});case 8:return s=e.sent,e.abrupt("return",URL.createObjectURL(s.data));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()},,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return i}));var r=a(1),n=a.n(r),s=a(3),c=a(2),o=a(6);function u(){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("profile");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.put("/profile",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(o.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16),_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_dropzone__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29),_components_ImgProtected__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_services_profile__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40),_services__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),_helpers_handleFormFieldsError__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(23),_styles_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(132),_styles_css__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_10__);function Profile(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)({}),_useState2=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),user=_useState2[0],setUser=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),_useState4=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState3,2),name=_useState4[0],setName=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),_useState6=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState5,2),email=_useState6[0],setEmail=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),_useState8=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState7,2),password=_useState8[0],setPassword=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),_useState10=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState9,2),tempPhoto=_useState10[0],setTempPhoto=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)({name:!1,email:!1,password:!1}),_useState12=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState11,2),isUpdating=_useState12[0],setIsUpdating=_useState12[1],fields=["name","email","password"];function handleEdit(e){return _handleEdit.apply(this,arguments)}function _handleEdit(){return _handleEdit=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(field){var currentIsUpdating;return _Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:fields.indexOf(field)>-1&&(currentIsUpdating=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},isUpdating),currentIsUpdating[field]=!0,setIsUpdating(currentIsUpdating),eval("set".concat(field.charAt(0).toUpperCase()+field.slice(1),"(user.").concat(field,")")));case 1:case"end":return _context2.stop()}}),_callee2)}))),_handleEdit.apply(this,arguments)}function handleUpdate(e){return _handleUpdate.apply(this,arguments)}function _handleUpdate(){return _handleUpdate=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(field){var data,updated,response,currentIsUpdating;return _Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(data={},updated=!0,!(fields.indexOf(field)>-1)){_context3.next=10;break}if(data[field]=eval(field),data[field]===eval("user.".concat(field))){_context3.next=10;break}return Object(_helpers_handleFormFieldsError__WEBPACK_IMPORTED_MODULE_9__.a)(),_context3.next=8,Object(_services_profile__WEBPACK_IMPORTED_MODULE_7__.b)(data);case 8:response=_context3.sent,response.error?(Object(_helpers_handleFormFieldsError__WEBPACK_IMPORTED_MODULE_9__.b)(response.errors),updated=!1):(_services__WEBPACK_IMPORTED_MODULE_8__.c.sendSuccessMessage("Dados gravados com sucesso"),setUser(response),_services__WEBPACK_IMPORTED_MODULE_8__.b.refreshUserData());case 10:updated&&(currentIsUpdating=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},isUpdating),currentIsUpdating[field]=!1,setIsUpdating(currentIsUpdating));case 11:case"end":return _context3.stop()}}),_callee3)}))),_handleUpdate.apply(this,arguments)}function handleFileDrop(e){return _handleFileDrop.apply(this,arguments)}function _handleFileDrop(){return(_handleFileDrop=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function e(t){var a,r,n;return _Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=11;break}return(a=new FileReader).onload=function(e){setTempPhoto(e.target.result)},a.readAsDataURL(t[0]),Object(_helpers_handleFormFieldsError__WEBPACK_IMPORTED_MODULE_9__.a)(),(r=new FormData).append("photo",t[0]),e.next=9,Object(_services_profile__WEBPACK_IMPORTED_MODULE_7__.b)(r);case 9:(n=e.sent).error?Object(_helpers_handleFormFieldsError__WEBPACK_IMPORTED_MODULE_9__.b)(n.errors):(_services__WEBPACK_IMPORTED_MODULE_8__.c.sendSuccessMessage("Foto alterada com sucesso"),setUser(n),setTempPhoto(null),_services__WEBPACK_IMPORTED_MODULE_8__.b.refreshUserData());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function handleRemovePhoto(){return _handleRemovePhoto.apply(this,arguments)}function _handleRemovePhoto(){return(_handleRemovePhoto=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function e(){var t;return _Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTempPhoto(null),e.next=3,Object(_services_profile__WEBPACK_IMPORTED_MODULE_7__.b)({remove_photo:!0});case 3:(t=e.sent).error?Object(_helpers_handleFormFieldsError__WEBPACK_IMPORTED_MODULE_9__.b)(t.errors):(_services__WEBPACK_IMPORTED_MODULE_8__.c.sendSuccessMessage("Foto removida"),setUser(t),_services__WEBPACK_IMPORTED_MODULE_8__.b.refreshUserData());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((function(){function e(){return(e=Object(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function e(){var t;return _Users_macbookpro_dev_ead_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_services_profile__WEBPACK_IMPORTED_MODULE_7__.a)();case 2:t=e.sent,_services__WEBPACK_IMPORTED_MODULE_8__.c.clearMessages(),t.error?_services__WEBPACK_IMPORTED_MODULE_8__.c.sendErrorMessage(t.error.message):setUser(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"Profile"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1",{className:"page-title"},"Meus Dados"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"profile-content"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"profile-photo"},(user.photo||tempPhoto)&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"photo-field"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("figure",{className:"current-photo field"},!tempPhoto&&user.photo&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_ImgProtected__WEBPACK_IMPORTED_MODULE_6__.a,{file:user.photo}),tempPhoto&&!user.photo&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img",{src:tempPhoto,alt:""})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"edit-photo link",onClick:handleRemovePhoto},"remover foto")),!user.photo&&!tempPhoto&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"photo-field upload-field field"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_5__.a,{onDrop:handleFileDrop},(function(e){var t=e.getRootProps,a=e.getInputProps;return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",t(),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input",a()),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p",null,"Arraste e solte um arquivo aqui, ou clique pare selecionar")))})))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"profile-details"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"profile-name"},!isUpdating.name&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"value"},user.name),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"edit-name link",onClick:function(e){return handleEdit("name")}},"(editar)")),isUpdating.name&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input",{id:"name",type:"text",name:"name",value:name,onChange:function(e){return setName(e.target.value)},onKeyUp:function(e){return 13===e.which?handleUpdate("name"):null}}),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"confirm-edit-name link",onClick:function(e){return handleUpdate("name")}},"(gravar)"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"profile-email"},!isUpdating.email&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"value"},user.email),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"edit-email link",onClick:function(e){return handleEdit("email")}},"(editar)")),isUpdating.email&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input",{id:"email",type:"email",name:"email",value:email,onChange:function(e){return setEmail(e.target.value)},onKeyUp:function(e){return 13===e.which?handleUpdate("email"):null}}),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"confirm-edit-email link",onClick:function(e){return handleUpdate("email")}},"(gravar)"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"profile-password"},!isUpdating.password&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"value"},"**********"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"edit-password link",onClick:function(e){return handleEdit("password")}},"(alterar a senha)")),isUpdating.password&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input",{id:"password",type:"password",name:"password",onChange:function(e){return setPassword(e.target.value)},onKeyUp:function(e){return 13===e.which?handleUpdate("password"):null}}),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"confirm-edit-email link",onClick:function(e){return handleUpdate("password")}},"(gravar)"))))))}__webpack_exports__.a=Profile},,,,,,,,,,,,function(e,t,a){e.exports=a(161)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(25),c=a.n(s),o=(a(84),a(4)),u=a(5),l=a(2),i=a(31),m=a(77),d=["component","onlyAdmin"];var p=function(e){var t=e.component,a=e.onlyAdmin,r=Object(m.a)(e,d);return n.a.createElement(i.d,Object.assign({},r,{render:function(e){return!l.b.currentUserValue||a&&!l.b.isAdmin()?n.a.createElement(i.c,{to:{pathname:"/login",state:{from:e.location}}}):n.a.createElement(t,e)}}))};var _=function(){return n.a.createElement("h1",{className:"page-title"},"P\xe1gina n\xe3o encontrada")},f=a(1),E=a.n(f),b=a(3),v=a(13),h=a(8);a(111);var O=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(!1),u=Object(o.a)(c,2),l=u[0],i=u[1],m=Object(r.useState)(!1),d=Object(o.a)(m,2),p=d[0],_=d[1];function f(){return(f=Object(b.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return t.preventDefault(),i(!0),e.next=6,v.a.requestForgotPasswordToken(a);case 6:(r=e.sent).error?(r.response&&404===r.response.status?h.a.sendErrorMessage("N\xe3o encontramos nenhum usu\xe1rio com o email fornecido, por favor verifique e tente novamente"):(h.a.sendErrorMessage("Infelizmente n\xe3o foi poss\xedvel enviar a sua solicita\xe7\xe3o"),console.log(r)),_(!1)):(h.a.sendSuccessMessage("Sua solicita\xe7\xe3o foi enviada com sucesso"),_(!0)),i(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement("div",{className:"ForgotPassword"},n.a.createElement("h1",{className:"page-title"},"Esqueci a minha senha"),n.a.createElement("form",{onSubmit:function(e){return f.apply(this,arguments)}},p?n.a.createElement("div",{className:"success-message"},n.a.createElement("p",null,"Voc\xea receber\xe1 um email com instru\xe7\xf5es para redefinir a sua senha."),n.a.createElement("p",null,n.a.createElement("i",null,"Caso n\xe3o receba na sua caixa de entrada, n\xe3o esque\xe7a de verificar tamb\xe9m a sua caixa de ",n.a.createElement("b",null,"SPAM"),"."))):n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"email"},"Insira abaixo o email utilizado na sua conta:"),n.a.createElement("input",{type:"email",name:"email",value:a,onChange:function(e){return s(e.target.value)}})),!p&&n.a.createElement("button",{type:"submit",disabled:l,className:"button"},l?"enviando...":"enviar")))},g=a(23);a(112);var j=function(){var e=Object(i.m)().token,t=Object(r.useState)(""),a=Object(o.a)(t,2),s=a[0],c=a[1],l=Object(r.useState)(""),m=Object(o.a)(l,2),d=m[0],p=m[1],_=Object(r.useState)(!1),f=Object(o.a)(_,2),O=f[0],j=f[1],N=Object(r.useState)(!1),y=Object(o.a)(N,2),w=y[0],x=y[1],M=Object(r.useState)(!1),k=Object(o.a)(M,2),P=k[0],D=k[1];function C(){return(C=Object(b.a)(E.a.mark((function t(a){var r,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!P){t.next=2;break}return t.abrupt("return");case 2:return Object(g.a)(),a.preventDefault(),D(!0),r={token:e,password:s,password_confirmation:d},t.next=8,v.a.resetPassword(r);case 8:(n=t.sent).error?n.errors?Object(g.b)(n.errors):"Token Expired"===n.error?(j(!0),h.a.sendErrorMessage("A sua requisi\xe7\xe3o expirou")):(h.a.sendErrorMessage("Infelizmente n\xe3o foi poss\xedvel enviar a sua solicita\xe7\xe3o"),console.log(n.error)):(h.a.sendSuccessMessage("Senha alterada com sucesso"),x(!0)),D(!1);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return n.a.createElement("div",{className:"ResetPassword"},n.a.createElement("h1",{className:"page-title"},"Redefinir a Senha"),O&&n.a.createElement("div",{className:"expired"},n.a.createElement("p",null,"Sua solicita\xe7\xe3o de recupera\xe7\xe3o de senha expirou."),n.a.createElement("p",null,n.a.createElement(u.Link,{to:"/esqueci-minha-senha"},"Clique aqui")," para solicitar uma nova")),w&&n.a.createElement("div",{className:"success-message"},n.a.createElement("p",null,"Senha alterada com sucesso."),n.a.createElement("p",null,n.a.createElement(u.Link,{to:"/login"},"Clique aqui para fazer login"))),!O&&!w&&n.a.createElement("form",{onSubmit:function(e){return C.apply(this,arguments)}},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"password"},"Nova Senha:"),n.a.createElement("input",{id:"password",type:"password",name:"password",value:s,onChange:function(e){return c(e.target.value)}})),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"passwordConfirmation"},"Digite novamente:"),n.a.createElement("input",{id:"password_confirmation",type:"password",name:"passwordConfirmation",value:d,onChange:function(e){return p(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"button",disabled:P},P?"enviando...":"enviar")))};a(113);var N=Object(i.o)((function(e){var t=e.history,a=e.location,s=Object(r.useState)(""),c=Object(o.a)(s,2),i=c[0],m=c[1],d=Object(r.useState)(""),p=Object(o.a)(d,2),_=p[0],f=p[1];function v(){return(v=Object(b.a)(E.a.mark((function e(r){var n,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),h.a.clearMessages(),e.prev=2,e.next=5,l.b.login({email:i,password:_});case 5:n=a.state||{from:{pathname:"/"}},s=n.from,t.push(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&401===e.t0.response.status?h.a.sendErrorMessage("Credenciais inv\xe1lidas"):(console.error(e.t0.message),h.a.sendErrorMessage("N\xe3o foi poss\xedvel autenticar o usu\xe1rio, por favor, tente novamente mais tarde"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return l.b.currentUserValue&&t.push("/"),n.a.createElement("div",{className:"BoxLogin"},n.a.createElement("div",{className:"Login"},n.a.createElement("div",{className:"login-box"},n.a.createElement("form",{onSubmit:function(e){return v.apply(this,arguments)}},n.a.createElement("div",{className:"field"},n.a.createElement("label",{htmlFor:"email"}),n.a.createElement("input",{id:"email",type:"text",onChange:function(e){return m(e.target.value)},value:i,placeholder:"Email"})),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"password",type:"password",onChange:function(e){return f(e.target.value)},placeholder:"Senha"})),n.a.createElement("div",{className:"field"},n.a.createElement("button",{type:"submit"},"Fazer Login"))),n.a.createElement(u.Link,{to:"/esqueci-minha-senha",className:"lost-password"},"esqueceu a senha?"))))})),y=a(46),w=a.n(y),x=a(10),M=a(14);a(129),a(130),a(131);var k=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],c={dots:!1,arrows:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]};return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.clearMessages(),e.next=3,Object(M.e)();case 3:(t=e.sent).error?h.a.sendErrorMessage("N\xe3o foi pos\xedvel carregar o curso. Erro: ".concat(t.error)):s(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"CoursesCarrossel"},n.a.createElement("section",null,l.b.isAdmin()&&n.a.createElement(u.Link,{to:"/admin/cursos/novo",className:"add-course button center-content"},"Adicionar Curso",n.a.createElement("i",{className:"mi"},"add_circle_outline")),n.a.createElement("div",{className:"courses-carrossels"},a&&a.inProgress&&n.a.createElement("div",{className:"courses-inProgresss"},n.a.createElement("h1",{className:"section-title"},"Treinamentos em andamento"),n.a.createElement(w.a,Object.assign({},c,{slidesToShow:Math.min(a.inProgress.length,4),className:"courses"}),a.inProgress.map((function(e){return n.a.createElement("div",{key:e.id,className:"Course ".concat(e.status)},n.a.createElement("div",{className:"course-cover"},e.cover&&n.a.createElement(x.a,{file:e.cover,alt:e.name}),!e.cover&&n.a.createElement("img",{src:"/images/default-course-cover.jpg",alt:e.name})),n.a.createElement("div",{className:"course-name"},e.name),e.lessons.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"course-lessons"},n.a.createElement("span",{className:"key"},"Aulas:"),n.a.createElement("span",{className:"value"},e.lessons.length)),n.a.createElement("div",{className:"course-duration"},n.a.createElement("span",{className:"key"},"Dura\xe7\xe3o:"),n.a.createElement("span",{className:"value"},Object(M.a)(e.lessons)))),e.teachers.length>0&&n.a.createElement("div",{className:"course-teacher"},n.a.createElement("span",{className:"key"},"Professor:"),n.a.createElement("span",{className:"value"},e.teachers.map((function(e,t,a){return e.name+(t!==a.length-1?", ":"")})))),n.a.createElement(u.Link,{to:"cursos/".concat(e.id),className:"course-button"},"Ver Curso"))})))),a&&a.categories&&n.a.createElement("div",{className:"courses-categories"},a.categories.map((function(e){return n.a.createElement("div",{key:e.category.id,className:"course-category"},n.a.createElement("h1",{className:"section-title"},e.category.name),n.a.createElement(w.a,Object.assign({},c,{slidesToShow:Math.min(e.courses.length,c.slidesToShow),className:"courses"}),e.courses.map((function(e){return n.a.createElement("div",{key:e.id,className:"Course ".concat(e.status)},n.a.createElement("div",{className:"course-cover"},e.cover&&n.a.createElement(x.a,{file:e.cover,alt:e.name}),!e.cover&&n.a.createElement("img",{src:"/images/default-course-cover.jpg",alt:e.name})),n.a.createElement("div",{className:"course-name"},e.name),e.lessons.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"course-lessons"},n.a.createElement("span",{className:"key"},"Aulas:"),n.a.createElement("span",{className:"value"},e.lessons.length)),n.a.createElement("div",{className:"course-duration"},n.a.createElement("span",{className:"key"},"Dura\xe7\xe3o:"),n.a.createElement("span",{className:"value"},Object(M.a)(e.lessons)))),e.teachers.length>0&&n.a.createElement("div",{className:"course-teacher"},n.a.createElement("span",{className:"key"},"Professor:"),n.a.createElement("span",{className:"value"},e.teachers.map((function(e,t,a){return e.name+(t!==a.length-1?", ":"")})))),n.a.createElement(u.Link,{to:"cursos/".concat(e.id),className:"course-button"},"Ver Curso"))}))))}))))))};var P=Object(i.o)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(k,null))})),D=a(67),C=a(69),S=a(30),U=a(28),A=a.n(U),L=a(70);a(144);var I=function(e){var t=e.video,a=e.onVideoEnded,s=e.onVideoPlaying,c=Object(r.useState)(""),u=Object(o.a)(c,2),l=u[0],i=u[1],m=Object(r.useState)(""),d=Object(o.a)(m,2),p=d[0],_=d[1],f=Object(r.useState)(""),v=Object(o.a)(f,2),h=v[0],O=v[1];function g(){return(g=Object(b.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}if(!(t.indexOf("vimeo.com")>=0)){e.next=14;break}return e.prev=2,e.next=5,A.a.get("https://vimeo.com/api/oembed.json?url=".concat(t,"&width=750&height=400&responsive=true"));case 5:(a=e.sent).data&&a.data.video_id?(_("vimeo"),i(a.data.video_id),O(a.data.title)):i(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(null);case 12:e.next=15;break;case 14:(t.indexOf("youtu.be/")>=0||t.indexOf("youtube.com")>=0)&&(_("youtube"),t.indexOf("youtu.be/")>=0?i(t.substr(t.lastIndexOf("/")+1)):t.indexOf("/watch")>=0?i(t.substr(t.lastIndexOf("?v=")+3)):(t.indexOf("/embed/")>=0||t.indexOf("/v/")>=0)&&i(t.substr(t.lastIndexOf("/")+1)));case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[t]),t?n.a.createElement("div",{id:"player",className:"VideoPlayer"},"youtube"===p&&l&&n.a.createElement(L.a,{videoId:l,opts:{width:"750",height:"400",playerVars:{autoplay:1,rel:0,showinfo:0,controls:2,modestbranding:1,iv_load_policy:3}},onReady:function(e){"youtube"===p&&(e.target.setVolume(100),e.target.playVideo())},onStateChange:function(e){switch(e.data){case-1:break;case 0:a(e);break;case 1:s(e)}}}),"vimeo"===p&&l&&n.a.createElement("iframe",{src:"https://player.vimeo.com/video/".concat(l),width:"750",height:"450",frameBorder:"0",title:h,webkitAllowFullScreen:!0,mozAllowFullScreen:!0,allowFullScreen:!0}),null===l&&n.a.createElement("div",{className:"video-error"},"V\xeddeo n\xe3o dispon\xedvel")):n.a.createElement("div",{id:"player",className:"VideoPlayer"},"V\xeddeo n\xe3o dispon\xedvel")},R=a(15),T=a.n(R),B=a(6);function K(e,t){return W.apply(this,arguments)}function W(){return(W=Object(b.a)(E.a.mark((function e(t,a){var r,n,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={},t&&(r.lesson=t),a&&(r.user=a),n=T.a.stringify(r),e.next=7,l.a.get("/comments"+(n?"?".concat(n):""));case 7:return s=e.sent,e.abrupt("return",s.data);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function F(e){return q.apply(this,arguments)}function q(){return(q=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/comments",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function V(e){return z.apply(this,arguments)}function z(){return(z=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/comments/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}a(145);var G=function(e){var t=e.lesson,a=e.parent,s=e.refreshComments,c=Object(r.useState)(!0),u=Object(o.a)(c,2),i=u[0],m=u[1],d=Object(r.useState)(""),p=Object(o.a)(d,2),_=p[0],f=p[1],h=a?"reply":"new";function O(){return(O=Object(b.a)(E.a.mark((function e(r){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={content:_,lesson_id:t,parent_id:a,status:"approved"},e.next=4,F(n);case 4:e.sent.error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel gravar os dados"):(v.a.isAdmin()?(l.c.sendSuccessMessage("Dados gravados com sucesso"),f(""),s()):l.c.sendErrorMessage("Sua d\xfavida foi enviada, em breve o professor responder\xe1"),"reply"===h&&m(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i?n.a.createElement("form",{className:("reply"===h?"comment-reply":"comment-new")+" CommentsForm",onSubmit:function(e){return O.apply(this,arguments)}},n.a.createElement("div",{className:"form-field"},n.a.createElement("div",{className:"field"},n.a.createElement("textarea",{className:"content-field",value:_,onChange:function(e){return f(e.target.value)},placeholder:"reply"===h?"Escreva a sua resposta":"D\xfavidas sobre a aula?"}))),n.a.createElement("div",{className:"form-field submit"},n.a.createElement("button",{className:"button",type:"submit"},"enviar ","reply"===h?"resposta":"d\xfavida"))):""},Y=a(26),J=a.n(Y);a(146);var H=function e(t){var a=t.comments,r=t.enabledReplyForm,s=t.setEnabledReplyForm,c=t.lesson,o=t.loadComments;return n.a.createElement("div",{className:"CommentsList"},a.map((function(a){return n.a.createElement("div",{key:a.id,id:"comment-".concat(a.id),className:"comment"},n.a.createElement("div",{className:"comment-body"},n.a.createElement("div",{className:"comment-body-inner"},n.a.createElement("div",{className:"comment-user-photo"},n.a.createElement(x.a,{file:a.user.photo})),n.a.createElement("div",{className:"comment-data"},n.a.createElement("div",{className:"comment-user"},a.user.name),n.a.createElement("div",{className:"comment-content"},a.content))),n.a.createElement("div",{className:"comment-date button"},J()(a.created_at).format("DD/MM/YYYY")),n.a.createElement("div",{className:"comment-reply-button button",onClick:function(e){return s(a.id)}},"Responder \u203a")),r===a.id&&n.a.createElement(G,{refreshComments:o,lesson:c,parent:a.id}),a.children&&a.children.length>0&&n.a.createElement("div",{className:"comment-children"},n.a.createElement("div",{className:"mi"},"reply"),n.a.createElement(e,Object.assign({},t,{comments:a.children}))))})))};var $=Object(i.o)((function(e){var t=e.lesson,a=e.location,s=Object(r.useState)([]),c=Object(o.a)(s,2),u=c[0],i=c[1],m=Object(r.useState)([]),d=Object(o.a)(m,2),p=d[0],_=d[1],f=Object(r.useState)(!1),v=Object(o.a)(f,2),h=v[0],O=v[1];function g(){return j.apply(this,arguments)}function j(){return(j=Object(b.a)(E.a.mark((function e(){var r,n,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),t.id){e.next=4;break}return _([]),e.abrupt("return");case 4:return e.next=6,K(t.id);case 6:(r=e.sent).error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel carregar as d\xfavidas"):(n=r.map((function(e){return r.filter((function(e){return e.parent_id>0})).map((function(t){t.parent_id===e.id&&(e.children?e.children.push(t):e.children=[t])})),e})).filter((function(e){return!e.parent_id})),_(n),a.hash&&(s=document.getElementById(a.hash.substr(1)))&&window.scrollTo(0,s.offsetTop)),O(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){t.comments&&t.comments.length?_(t.comments):g()}),[t]),h?n.a.createElement("div",{className:"loading comments-loading"},"Carregando perguntas..."):n.a.createElement("div",{className:"LessonComments"},n.a.createElement(G,{refreshComments:g,lesson:t.id}),p.length>0&&n.a.createElement(H,{comments:p,enabledReplyForm:u,setEnabledReplyForm:i,lesson:t.id,loadComments:g}))}));a(147);var Q=function(e){var t=e.className,a=e.progress,s="".concat(void 0!==t?t+" ":"","progress-bar"),c=Object(r.useState)(0),u=Object(o.a)(c,2),l=u[0],i=u[1];return Object(r.useEffect)((function(){i(parseInt(a)||0)}),[a]),n.a.createElement("div",{className:s},n.a.createElement("div",{className:"progress",style:{width:l+"%",textIndent:l<10?"0.5em":0}},l,"%"))};function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(b.a)(E.a.mark((function e(t,a){var r,n,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={},t&&(r.ptype=t),a&&(r.pid=a),n=T.a.stringify(r),e.next=7,l.a.get("/attachments/"+(n?"?".concat(n):""));case 7:return s=e.sent,e.abrupt("return",s.data);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/attachments",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/attachments/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ne=a(35);a(148);var se=function(e){var t=e.attachmentable,a=e.type,s=e.handleRemoveFile,c=Object(r.useState)([]),u=Object(o.a)(c,2),i=u[0],m=u[1],d=Object(r.useState)(!1),p=Object(o.a)(d,2),_=p[0],f=p[1],v=Object(r.useState)([]),h=Object(o.a)(v,2),O=h[0],g=h[1];function j(){return(j=Object(b.a)(E.a.mark((function e(){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,X(a,t.id);case 3:(r=e.sent).error?(l.c.sendErrorMessage("N\xe3o foi poss\xedvel carregar os anexos"),console.error(r.error)):m(r),f(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g([].concat(Object(S.a)(O),[t.id])),e.next=3,Object(ne.a)(t.url,!0);case 3:a=e.sent,(r=document.createElement("a")).style.display="none",r.href=a,r.setAttribute("download",t.url.substr(t.url.lastIndexOf("/")+1)),document.body.appendChild(r),r.click(),URL.revokeObjectURL(a),document.body.removeChild(r),g(O.filter((function(e){return e!==t.id})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){t.attachments?m(t.attachments):function(){j.apply(this,arguments)}()}),[t]),_?"Carregando anexos...":!i||i.length<=0?"Esta aula n\xe3o possui anexos":n.a.createElement("div",{className:"AttachmentsList"},i.map((function(e){return n.a.createElement("div",{key:e.id,className:"attachment"},n.a.createElement("i",{className:"attachment-icon mi"},"attachment"),n.a.createElement("div",{className:"attachment-name",onClick:function(){return function(e){return N.apply(this,arguments)}(e)}},e.url.substr(e.url.lastIndexOf("/")+1)),s&&n.a.createElement("i",{className:"attachment-remove-icon mi",onClick:function(){return s(e.id)}},"delete"),O.some((function(t){return t===e.id}))&&n.a.createElement("img",{src:"/images/loader.gif",className:"loading",alt:"carregando",width:"28",height:"28"}))})))};function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/lessons/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return(le=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/lessons",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ie(e,t){return me.apply(this,arguments)}function me(){return(me=Object(b.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("/lessons/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/lessons/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _e(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(b.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/lessons/".concat(t,"/action"),{action:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}a(149);var Ee=Object(i.o)((function(e){var t=e.history,a=e.location,s=Object(i.m)(),c=s.id,l=s.lessonId,m=Object(r.useState)([]),d=Object(o.a)(m,2),p=d[0],f=d[1],O=Object(r.useState)([]),g=Object(o.a)(O,2),j=g[0],N=g[1],y=Object(r.useState)({}),w=Object(o.a)(y,2),x=w[0],k=w[1],P=Object(r.useState)([]),D=Object(o.a)(P,2),U=D[0],A=D[1],L=Object(r.useState)({}),R=Object(o.a)(L,2),T=R[0],B=R[1],K=Object(r.useState)(""),W=Object(o.a)(K,2),F=W[0],q=W[1];function V(){return z.apply(this,arguments)}function z(){return(z=Object(b.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.clearMessages(),e.next=3,Object(M.c)(c,!0);case 3:if(!(t=e.sent).error){e.next=8;break}t.response&&404===t.response.status?(h.a.sendErrorMessage(t.error),k(null)):(a=t.error.message?" Erro: ".concat(t.error.message):"",h.a.sendErrorMessage("N\xe3o foi pos\xedvel carregar o curso.".concat(a)),k(!1)),e.next=18;break;case 8:if(k(t),t.modules&&t.modules.length){e.next=13;break}A([]),e.next=18;break;case 13:if(r=t.modules.map((function(e){return e.lessons.length?(e.lessons=e.lessons.map((function(t){if(t.history&&t.history.length){var a=t.history.reduce((function(e,t){return e&&e.push(t.action),e}),[]);a.indexOf("done")>=0?t.progress="done":a.indexOf("start")>=0?t.progress="start":a.indexOf("open")>=0?t.progress="open":t.progress="nothing"}return l&&t.id===parseInt(l)&&(B(t),N([e.id])),t})),e):e})),l){e.next=17;break}return X(r),e.abrupt("return");case 17:A(r);case 18:f(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return!!(j.length&&j.indexOf(e)>=0)}function Y(e){t.push("/cursos/".concat(c,"/aula/").concat(e.id)),B(e),N([e.module_id])}function J(){return(J=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(T.id,"start");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(T.id,"done");case 2:(a=e.sent).error?console.error(a.error):(h.a.sendSuccessMessage("Parab\xe9ns, voc\xea concluiu mais uma aula!"),X(U,T)||V());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){if(e&&e.length){var a,r,n=Object(C.a)(e);try{for(n.s();!(r=n.n()).done;){var s=r.value;if(s.lessons&&s.lessons.length)for(var c in s.lessons){if(a)return Y(s.lessons[c]),s.lessons[c];if(t)s.lessons[c].id===t.id&&(a=c);else if("done"!==s.lessons[c].progress)return Y(s.lessons[c]),s.lessons[c]}}}catch(o){n.e(o)}finally{n.f()}if(!t&&e[0].lessons&&e[0].lessons.length)return Y(e[0].lessons[0]),e[0].lessons[0]}return null}return Object(r.useEffect)((function(){f(!0),V()}),[c,a]),Object(r.useEffect)((function(){Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(T.id,"open");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))(),T.video===F&&q(""),q(T.video)}),[T]),null===x?n.a.createElement(_,null):!1===x?n.a.createElement("div",{className:"error"},"Ocorreu um erro ao carregar o curso"):n.a.createElement("div",{className:"CourseShow"},p?n.a.createElement("h1",{className:"page-title"},"Carregando..."):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"page-title"},x.name),v.a.isAdmin()&&n.a.createElement(u.Link,{className:"course edit button center-content",to:"/admin/cursos/".concat(x.id,"/editar")},"Editar",n.a.createElement("i",{className:"mi"},"edit")),n.a.createElement("div",{className:"course-container"},n.a.createElement("div",{className:"lesson-content"},!1===T&&"Aula n\xe3o encontrada",T.id&&0!==U.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{video:F,onVideoEnded:function(e){return H.apply(this,arguments)},onVideoPlaying:function(e){return J.apply(this,arguments)}}),n.a.createElement("div",{className:"lesson-attachments"},n.a.createElement("span",{className:"lesson-attachments-label"},"Anexos: "),n.a.createElement(se,{attachmentable:T,type:"lessons"})),n.a.createElement($,{lesson:T})):!1===T?"":"Nenhum modulo cadastrado"),n.a.createElement("div",{className:"course-lessons"},U.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Q,{progress:x.progress||0}),n.a.createElement("ul",null,U.map((function(e,t){return n.a.createElement("li",{key:e.id,className:"module"},n.a.createElement("div",{className:"module-name-wraper name-wraper",onClick:function(t){return function(e){G(e)?N(j.filter((function(t){return t!==e}))):N([].concat(Object(S.a)(j),[e]))}(e.id)}},n.a.createElement("span",{className:"module-number number"},t+1),n.a.createElement("span",{className:"module-name name"},e.name),n.a.createElement("i",{className:"mi toggle"},G(e.id)?"arrow_drop_up":"arrow_drop_down")),e.lessons.length>0&&n.a.createElement("ul",{className:"module-lessons".concat(G(e.id)?" active":"")},e.lessons.map((function(e,t){return n.a.createElement("li",{key:e.id,className:"lesson name-wraper".concat(e===T?" active":"").concat("done"===e.progress?" finished":"")},n.a.createElement("span",{className:"lesson-number number"},t+1),n.a.createElement("button",{className:"lesson-name name",onClick:function(t){return Y(e)},href:"#"},e.name),n.a.createElement("span",{className:"lesson-view-status"},n.a.createElement("i",{className:"mi"},"done"===e.progress?"done":"clear")))}))))}))))))))}));a(150);var be=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(o.a)(c,2),m=i[0],d=i[1];function p(){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.c.clearMessages(),e.next=3,Object(M.d)(m);case 3:(t=e.sent).errors?(l.c.sendErrorMessage(t.error),s([])):s(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja excluir este curso?")){e.next=5;break}return e.next=3,Object(M.b)(t.id);case 3:e.sent.error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel excluir o curso"):(l.c.sendSuccessMessage("Aluno excluido com sucesso"),p());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){p()}),[]),Object(r.useEffect)((function(){p()}),[m]),n.a.createElement("div",{className:"CoursesList"},n.a.createElement("h1",{className:"page-title"},"Cursos"),l.b.isAdmin()&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"search-form"},n.a.createElement("input",{className:"search-input",onChange:function(e){return d(e.target.value)},value:m,type:"search",placeholder:"Buscar nome do curso"})),n.a.createElement(u.Link,{to:"/admin/cursos/novo",className:"add-course button center-content"},"Adicionar Curso",n.a.createElement("i",{className:"mi"},"add_circle_outline"))),n.a.createElement("div",{className:"courses"},a.map((function(e){return n.a.createElement("div",{key:e.id,className:"Course ".concat(e.status)},n.a.createElement("div",{className:"course-cover"},n.a.createElement(u.Link,{to:"/cursos/".concat(e.id)},e.cover&&n.a.createElement(x.a,{file:e.cover,alt:e.name}),!e.cover&&n.a.createElement("img",{src:"/images/default-course-cover.jpg",alt:e.name}))),n.a.createElement("div",{className:"course-details"},n.a.createElement(u.Link,{to:"/cursos/".concat(e.id)},n.a.createElement("h2",{className:"course-name"},e.name),n.a.createElement("div",{className:"course-status"},n.a.createElement("span",{className:"key"},"Status: "),n.a.createElement("span",{className:"value"},"draft"===e.status?"rascunho":"publicado")),(e.lessons&&e.lessons.length)>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"course-lessons"},n.a.createElement("span",{className:"key"},"Aulas:"),n.a.createElement("span",{className:"value"},e.lessons.length)),n.a.createElement("div",{className:"course-duration"},n.a.createElement("span",{className:"key"},"Dura\xe7\xe3o:"),n.a.createElement("span",{className:"value"},Object(M.a)(e.lessons)))),(e.teachers&&e.teachers.length)>0&&n.a.createElement("div",{className:"course-teacher"},n.a.createElement("span",{className:"key"},"Professor:"),n.a.createElement("span",{className:"value"},e.teachers.map((function(e,t,a){return e.name+(t!==a.length-1?", ":"")})))))),l.b.isAdmin()&&n.a.createElement("div",{className:"course-actions"},n.a.createElement("div",{className:"button-group"},n.a.createElement(u.Link,{to:"/admin/cursos/".concat(e.id,"/editar"),className:"edit-course edit button small mi"},"edit"),n.a.createElement("button",{className:"remove-course remove button small mi",onClick:function(t){return function(e){return f.apply(this,arguments)}(e)}},"delete"))))}))))},ve=a(16),he=a(29),Oe=a(37),ge=a(17),je=a(22),Ne=a(11);a(151);var ye=Object(i.o)((function(e){var t=e.history,a=e.type,s=e.course,c=e.onCourseChange,u=Object(r.useState)(""),i=Object(o.a)(u,2),m=i[0],d=i[1],p=Object(r.useState)(""),_=Object(o.a)(p,2),f=_[0],v=_[1],h=Object(r.useState)(null),O=Object(o.a)(h,2),g=O[0],j=O[1],N=Object(r.useState)(""),y=Object(o.a)(N,2),w=y[0],k=y[1],P=Object(r.useState)([]),D=Object(o.a)(P,2),C=D[0],S=D[1],U=Object(r.useState)([]),A=Object(o.a)(U,2),L=A[0],I=A[1],R=Object(r.useState)(""),T=Object(o.a)(R,2),B=T[0],K=T[1],W=Object(r.useState)(!1),F=Object(o.a)(W,2),q=F[0],V=F[1],z=Object(r.useState)(null),G=Object(o.a)(z,2),Y=G[0],J=G[1],H=Object(r.useState)([]),$=Object(o.a)(H,2),Q=$[0],X=$[1],Z=Object(r.useState)([]),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],re=Object(r.useState)([]),ne=Object(o.a)(re,2),se=ne[0],ce=ne[1];function oe(){return(oe=Object(b.a)(E.a.mark((function e(r){var n,o,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault(),l.c.clearMessages(),n=new FormData,"update"===a?(m!==s.name&&n.append("name",m),f!==s.description&&n.append("description",f),w!==s.schools&&n.append("schools[]",[le(w)]),C!==s.categories&&n.append("categories[]",[le(C)]),L!==s.teachers&&n.append("teachers[]",[le(L)]),B!==s.status&&n.append("status",B),q&&n.append("remove_cover",!0)):(n.append("name",m),n.append("description",f),n.append("schools[]",le(w)),n.append("categories[]",le(C)),n.append("teachers[]",le(L)),n.append("status","draft")),g&&n.append("cover",g),"update"!==a){e.next=11;break}return e.next=8,Object(M.g)(s.id,n);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Object(M.f)(n);case 13:e.t0=e.sent;case 14:(o=e.t0).error?(u=o.error.message||"Ocorreu um erro ao gravar os dados",l.c.sendErrorMessage(u)):"update"!==a?t.push("/admin/cursos/".concat(o.id,"/editar")):(c(o),j(o.cover),J(null),l.c.sendSuccessMessage("Dados gravados com sucesso"));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"update"===a&&c(Object(ve.a)(Object(ve.a)({},s),{},{cover:null})),J(null),V(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return e.reduce((function(e,t){return e.push(t.value),e}),[])}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.c)();case 2:(t=e.sent).error?(a=t.error.message||"Ocorreu um error ao carregar as lojas",l.c.sendErrorMessage(a)):(r=t.map((function(e){return{value:e.id,label:e.name}})),X(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(b.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(je.c)();case 2:(t=e.sent).error?(a=t.error.message||"Ocorreu um error ao carregar as categorias",l.c.sendErrorMessage(a)):(r=t.map((function(e){return{value:e.id,label:e.name}})),ae(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(b.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.c)();case 2:(t=e.sent).error?(a=t.error.message||"Ocorreu um error ao carregar os professores",l.c.sendErrorMessage(a)):(r=t.map((function(e){return{value:e.id,label:e.name}})),ce(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){"update"===a&&s&&(d(s.name),v(s.description),K(s.status),s.schools&&k(s.schools.map((function(e){return{value:e.id,label:e.name}}))),s.categories&&S(s.categories.map((function(e){return{value:e.id,label:e.name}}))),s.teachers&&I(s.teachers.map((function(e){return{value:e.id,label:e.name}}))))}),[s,a]),Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(M.g)(s.id,{remove_cover:!0});case 4:(t=e.sent).error?(a=t.error.message||"Ocorreu um erro ao remover a imagem",l.c.sendErrorMessage(a)):(l.c.sendSuccessMessage("Imagem removida com sucesso"),j(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"update"===a&&s&&function(){e.apply(this,arguments)}()}),[q]),n.a.createElement("form",{onSubmit:function(e){return oe.apply(this,arguments)},className:"model-form"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"name"},"Nome:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"name",value:m,onChange:function(e){return d(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:"),n.a.createElement("div",{className:"field"},n.a.createElement("textarea",{id:"description",value:f,onChange:function(e){return v(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",null,"Imagem de Capa:"),(s&&s.cover||Y)&&n.a.createElement("div",{className:"current-cover field"},!Y&&s.cover&&n.a.createElement(x.a,{file:s.cover}),Y&&!s.cover&&n.a.createElement("img",{src:Y,alt:""}),n.a.createElement("br",null),n.a.createElement("div",{className:"button",onClick:function(){return ue.apply(this,arguments)}},"Remover imagem")),!(s&&s.cover)&&!Y&&n.a.createElement("div",{className:"cover-field upload-field field"},n.a.createElement(he.a,{onDrop:function(e){if(e.length){var t=new FileReader;t.onload=function(e){J(e.target.result)},t.readAsDataURL(e[0]),j(e[0])}}},(function(e){var t=e.getRootProps,a=e.getInputProps;return n.a.createElement("section",null,n.a.createElement("div",t(),n.a.createElement("input",a()),n.a.createElement("p",null,"Arraste e solte um arquivo aqui, ou clique pare selecionar")))})))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"schools"},"Loja(s):"),n.a.createElement("div",{className:"field"},n.a.createElement(Oe.a,{name:"schools",value:w,onChange:function(e){return k(e)},options:Q,isMulti:!0,isSearchable:!0}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"categories"},"Categoria(s):"),n.a.createElement("div",{className:"field"},n.a.createElement(Oe.a,{name:"categories",value:C,onChange:function(e){return S(e)},options:te,isMulti:!0,isSearchable:!0}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"teachers"},"Professor(es):"),n.a.createElement("div",{className:"field"},n.a.createElement(Oe.a,{name:"teachers",value:L,onChange:function(e){return I(e)},options:se,isMulti:!0,isSearchable:!0}))),"update"===a&&n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"status"},"Status:"),n.a.createElement("div",{className:"field"},n.a.createElement("select",{id:"status",value:B,onChange:function(e){return K(e.target.value)}},n.a.createElement("option",{value:"draft"},"Rascunho"),n.a.createElement("option",{value:"published"},"Publicado")))),n.a.createElement("div",{className:"form-field submit"},n.a.createElement("button",{type:"submit"},"Gravar")))}));var we=function(){return n.a.createElement("div",{className:"CoursesSave"},n.a.createElement("h1",{className:"page-title"},"Novo Curso"),n.a.createElement(ye,{type:"create",course:{}}))},xe=a(34);a(152);function Me(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(b.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("modules service : getModules",t),a=T.a.stringify({course:t||""}),e.next=5,l.a.get("/modules"+(a?"?".concat(a):""));case 5:return r=e.sent,e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Pe(e){return De.apply(this,arguments)}function De(){return(De=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/modules",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ce(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(b.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("/modules/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ue(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/modules/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(B.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}a(153);var Le=Object(i.o)((function(e){var t=e.course,a=e.obj,s=e.refreshModules,c=e.children,u=Object(r.useState)({}),i=Object(o.a)(u,2),m=i[0],d=i[1],p=Object(r.useState)(!0),_=Object(o.a)(p,2),f=_[0],v=_[1],h=Object(r.useState)(""),O=Object(o.a)(h,2),g=O[0],j=O[1];function N(){return(N=Object(b.a)(E.a.mark((function e(){var a,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=3;break}return l.c.sendErrorMessage("Por favor, preencha o nome do m\xf3dulo"),e.abrupt("return");case 3:if(a={name:g,course_id:t.id},void 0!==m.id){e.next=10;break}return e.next=7,Pe(a);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Ce(m.id,a);case 12:e.t0=e.sent;case 13:(r=e.t0).error?(n=r.error.message||"Ocorreu um error ao gravar os dados",l.c.sendErrorMessage(n)):m.id?(l.c.sendSuccessMessage("Dados gravados com sucesso"),v(!1),d(r)):(l.c.sendSuccessMessage("Novo m\xf3dulo cadastrado"),s(!0),j(""));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja excluir este m\xf3dulo inteiro?")){e.next=5;break}return e.next=3,Ue(t.id);case 3:e.sent.error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel excluir o m\xf3dulo"):(l.c.sendSuccessMessage("M\xf3dulo excluido com sucesso"),s());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){a&&(d(a),j(a.name),v(!1))}),[a]),n.a.createElement("div",{className:"ModulesCreate"},m&&!f&&n.a.createElement("div",{className:"module-content"},n.a.createElement("div",{className:"module-name"},m.name),n.a.createElement("div",{className:"button-group"},n.a.createElement("button",{className:"mi small edit",onClick:function(e){return v(!0)}},"edit"),n.a.createElement("button",{className:"mi small remove",onClick:function(e){return function(e){return y.apply(this,arguments)}(m)}},"delete"))),f&&n.a.createElement("div",{className:"module-form module-content"},n.a.createElement("input",{type:"text",name:"name",value:g,onChange:function(e){return j(e.target.value)}}),n.a.createElement("button",{className:"mi small send",onClick:function(){return N.apply(this,arguments)}},"done")),c||"")}));var Ie=Object(i.o)((function(e){var t=e.id,a=e.type,s=e.moduleObj,c=e.refreshModules,u=Object(r.useState)({}),i=Object(o.a)(u,2),m=i[0],d=i[1],p=Object(r.useState)(""),_=Object(o.a)(p,2),f=_[0],v=_[1],h=Object(r.useState)(""),O=Object(o.a)(h,2),g=O[0],j=O[1],N=Object(r.useState)(""),y=Object(o.a)(N,2),w=y[0],x=y[1],M=Object(r.useState)("draft"),k=Object(o.a)(M,2),P=k[0],D=k[1];function C(){return(C=Object(b.a)(E.a.mark((function e(r){var n,o,u,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault(),(n=document.querySelectorAll("form .error"))&&n.forEach((function(e){return e.classList.remove("error")})),o={module_id:s.id,name:f,description:g,video:w,status:P||"draft"},"update"!==a){e.next=10;break}return e.next=7,ie(t,o);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,ue(o);case 12:e.t0=e.sent;case 13:(u=e.t0).error?(i="",u.errors?(i="Alguns campos n\xe3o foram preenchidos corretamente:<br>",i+="<ul>",u.errors.map((function(e){i+="<li>".concat(e.detail,"</li>"),e.source.pointer&&document.getElementById(e.source.pointer).classList.add("error")})),i+="</ul>"):i="N\xe3o foi poss\xedvel gravar os dados da aula",l.c.sendErrorMessage(i)):("update"===a&&d(u),c(u),d(u),v(u.name),j(u.description||""),x(u.video||""),D(u.status),l.c.sendSuccessMessage("Dados gravados com sucesso"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(b.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=5;break}return a=new FileReader,r=t.map(function(){var e=Object(b.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.readAsDataURL(t),(r=new FormData).append("file",t),r.append("attachmentable_type","lessons"),r.append("attachmentable_id",m.id),e.next=7,ee(r);case 7:return(n=e.sent).error?(l.c.sendErrorMessage("Ocorreu um erro ao enviar o anexo"),console.error(n.error)):(d(Object(ve.a)(Object(ve.a)({},m),{},{attachments:[].concat(Object(S.a)(m.attachments),[n])})),l.c.sendSuccessMessage("Anexo gravado com sucesso")),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:(a=e.sent).error?(l.c.sendErrorMessage("N\xe3o foi poss\xedvel remove o anexo"),console.log(a.error)):(d(Object(ve.a)(Object(ve.a)({},m),{},{attachments:m.attachments.filter((function(e){return e.id!==t}))})),l.c.sendSuccessMessage("Anexo removido"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:(a=e.sent).error?(l.c.sendErrorMessage("N\xe3o foi poss\xedvel carregar a aula"),console.error(a.error)):(d(a),v(a.name),j(a.description),x(a.video),D(a.status));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d({}),v(""),j(""),x(""),D(""),t&&function(){e.apply(this,arguments)}()}),[t]),Object(r.useEffect)((function(){var e=document.getElementById("LessonsCreate").offsetTop;window.scrollTo(0,e)}),[t,s]),n.a.createElement("div",{id:"LessonsCreate",className:"LessonsCreate"},n.a.createElement("hgroup",{className:"lesson-form-title"},n.a.createElement("h2",{className:"title"},"M\xf3dulo: ",s.name),n.a.createElement("h3",{className:"subtitle"},"update"===a?"Editar Aula: ".concat(m.name):"Nova Aula")),n.a.createElement("form",{onSubmit:function(e){return C.apply(this,arguments)},className:"model-form lesson-form"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"name"},"Nome:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"name",type:"text",value:f,onChange:function(e){return v(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:"),n.a.createElement("div",{className:"field"},n.a.createElement("textarea",{id:"description",value:g,onChange:function(e){return j(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"video"},"V\xeddeo URL:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"video",type:"text",value:w,onChange:function(e){return x(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"status"},"Status:"),n.a.createElement("div",{className:"field"},n.a.createElement("select",{id:"status",value:P,onChange:function(e){return D(e.target.value)}},n.a.createElement("option",{value:"draft"},"Rascunho"),n.a.createElement("option",{value:"published"},"Publicado")))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"attachments"},"Anexos:"),n.a.createElement("div",{className:"field"},"update"!==a?"Para enviar anexos voc\xea deve primeiro salvar a aula":n.a.createElement("div",{className:"attachments"},m&&m.id&&n.a.createElement(se,{attachmentable:m,type:"lessons",handleRemoveFile:function(e){return A.apply(this,arguments)}}),n.a.createElement("div",{className:"attachment-field upload-field field"},n.a.createElement(he.a,{onDrop:function(e){return U.apply(this,arguments)},multiple:!0},(function(e){var t=e.getRootProps,a=e.getInputProps;return n.a.createElement("section",null,n.a.createElement("div",t(),n.a.createElement("input",a()),n.a.createElement("p",null,"Arraste e solte um arquivo aqui ou clique para selecionar")))})))))),n.a.createElement("div",{className:"form-field submit"},n.a.createElement("button",{type:"submit"},"Gravar"))))}));a(154);var Re=function(e){var t=e.course,a=Object(r.useState)([]),s=Object(o.a)(a,2),c=s[0],u=s[1],i=Object(r.useState)({}),m=Object(o.a)(i,2),d=m[0],p=m[1],_=Object(r.useState)({}),f=Object(o.a)(_,2),v=f[0],h=f[1],O=Object(r.useState)(!1),g=Object(o.a)(O,2),j=g[0],N=g[1],y=Object(r.useState)(!1),w=Object(o.a)(y,2),x=w[0],M=w[1];function k(e){return P.apply(this,arguments)}function P(){return(P=Object(b.a)(E.a.mark((function e(a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=5;break}return e.next=3,Me(t.id);case 3:(r=e.sent).error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel carregar os m\xf3dulos"):(u(r),a&&(!0===a?D(r[r.length-1]):C(d,a)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){p(e),h(null),N(!1),M(!0)}function C(e,t){p(e),h(t),N(!0),M(!0)}function S(){return(S=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja excluir esta aula?")){e.next=5;break}return e.next=3,de(t.id);case 3:e.sent.error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel excluir a aula"):(l.c.sendSuccessMessage("Aula excluido com sucesso"),k());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){k()}),[t]),n.a.createElement("div",{className:"ModulesList"},n.a.createElement("div",{className:"current-lesson"},x&&n.a.createElement(Ie,{moduleObj:d,id:v?v.id:null,type:j?"update":"create",refreshModules:k}),!x&&n.a.createElement("div",{className:"lesson-select-info"},"Use a lista ao lado para editar ou criar uma nova aula")),n.a.createElement("div",{className:"modules-wraper"},n.a.createElement("ul",{className:"modules"},n.a.createElement("li",{className:"module new-module"},n.a.createElement("div",{className:"new-module-title"},"Novo m\xf3dulo"),n.a.createElement(Le,{course:t,refreshModules:k})),c.map((function(e){return n.a.createElement("li",{key:e.id,className:"module"},n.a.createElement(Le,{course:t,obj:e,refreshModules:k},(e.lessons&&e.lessons.length)>0&&n.a.createElement("ul",{className:"lessons"},e.lessons.map((function(t){return n.a.createElement("li",{key:t.id,className:"lesson"},n.a.createElement("span",{className:"lesson-name",onClick:function(a){return C(e,t)}},t.name),n.a.createElement("div",{className:"button-group"},n.a.createElement("button",{className:"mi small edit",onClick:function(a){return C(e,t)}},"edit"),n.a.createElement("button",{className:"mi small remove",onClick:function(e){return function(e){return S.apply(this,arguments)}(t)}},"delete")))}))),n.a.createElement("div",{className:"create-lesson"},n.a.createElement("button",{onClick:function(t){return D(e)}},"Adicionar Aula ",n.a.createElement("i",{className:"mi"},"add_circle_outline")))))})))))};a(155);var Te=Object(i.o)((function(){var e=Object(i.m)().id,t=new URLSearchParams(Object(i.l)().search),a=Object(r.useState)({}),s=Object(o.a)(a,2),c=s[0],m=s[1],d=Object(r.useState)(0),p=Object(o.a)(d,2),_=p[0],f=p[1];return Object(r.useEffect)((function(){function a(){return(a=Object(b.a)(E.a.mark((function a(){var r,n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(M.c)(e);case 2:(r=a.sent).error?(n=r.error.message||"Ocorreu um erro ao buscar os dados do Curso",l.c.sendErrorMessage(n)):(m(r),"modulos"===t.get("tab")&&f(1));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e]),n.a.createElement("div",{className:"CoursesEdit"},n.a.createElement("h1",{className:"page-title"},"Editar Curso"),n.a.createElement(u.Link,{to:"/cursos/".concat(e),className:"show button"},"Ver Curso"),n.a.createElement("br",null),c&&n.a.createElement(xe.d,{selectedIndex:_,onSelect:f},n.a.createElement(xe.b,null,n.a.createElement(xe.a,null,"Dados Gerais"),n.a.createElement(xe.a,null,"M\xf3dulos")),n.a.createElement(xe.c,null,n.a.createElement(ye,{type:"update",course:c,onCourseChange:function(e){e!==c&&m(e)}})),n.a.createElement(xe.c,null,n.a.createElement(Re,{course:c}))))})),Be=a(5).useLocation;var Ke=function(){return new URLSearchParams(Be().search)};a(156);var We=Object(i.o)((function(e){e.location;var t=Ke(),a=Object(r.useState)([]),s=Object(o.a)(a,2),c=s[0],i=s[1],m=Object(r.useState)(null),d=Object(o.a)(m,2),p=d[0],_=d[1],f=Object(r.useState)([]),v=Object(o.a)(f,2),h=v[0],O=v[1];function g(e){return j.apply(this,arguments)}function j(){return(j=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.c.clearMessages(),e.next=3,K(null,t);case 3:(a=e.sent).error?l.c.sendErrorMessage("Ocorreu um erro ao processar a requisi\xe7\xe3o. Detalhes: ".concat(a.error)):i(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.c.clearMessages(),e.next=3,Object(Ne.c)();case 3:(t=e.sent).error?l.c.sendErrorMessage("Ocorreu um erro ao processar a requisi\xe7\xe3o. Detalhes: ".concat(t.error)):O(t.map((function(e){return{value:e.id,label:e.name}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(b.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:(a=e.sent).error?(r=a.error.message||"Ocorreu um erro ao excluir o registro",l.c.sendErrorMessage(r)):(l.c.sendSuccessMessage("Registro excluido"),i(c.filter((function(e){return e.id!==t}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){N.apply(this,arguments)}(),g(p?p.value:null)}),[]),Object(r.useEffect)((function(){g(p?p.value:null)}),[p]),Object(r.useEffect)((function(){!function(){if(!h)return;var e=parseInt(t.get("user")),a=h.filter((function(t){return t.value===e}));_(!(!e||!a.length)&&a[0])}()}),[h]),n.a.createElement("div",{className:"CommentsList"},n.a.createElement("h1",{className:"page-title"},"Perguntas"),n.a.createElement("form",{className:"comments-filter"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"teachers"},"Filtro por Aluno / Professor:"),n.a.createElement("div",{className:"field"},n.a.createElement(Oe.a,{name:"users",value:p,onChange:function(e){return _(e)},options:h,isMulti:!1,isSearchable:!0,placeholder:"Selecione para filtrar"}))),n.a.createElement("div",{className:"button",onClick:function(e){return _(null)}},"limpar")),n.a.createElement("div",{className:"comments list-items"},!c||c.length<=0?"Nenhuma pergunta encontrada":c.map((function(e){return n.a.createElement("div",{key:e.id,className:"comment item"},n.a.createElement("div",{className:"comment-wraper item-details"},n.a.createElement("div",{className:"comment-header item-header"},n.a.createElement("div",{className:"comment-user item-title"},e.user&&e.user.name),n.a.createElement("div",{className:"comment-lesson"},n.a.createElement(u.Link,{to:"/cursos/".concat(e.lesson.module.course_id,"/aula/").concat(e.lesson.id,"/#comment-").concat(e.id),target:"_blank"},e.lesson.module.course.name," \u203a ",e.lesson.name)),n.a.createElement("div",{className:"comment-date button"},J()(e.created_at).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"comment-content item-content"},e.content)),n.a.createElement("div",{className:"actions .button-group"},n.a.createElement("button",{className:"button remove link mi",onClick:function(t){return function(e){return y.apply(this,arguments)}(e.id)}},"delete")))}))))}));a(62);var Fe=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(o.a)(c,2),m=i[0],d=i[1];function p(){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.c.clearMessages(),e.next=3,Object(Ne.c)(m,!0);case 3:(t=e.sent).error?(l.c.sendErrorMessage(t.error),s([])):s(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja excluir este usu\xe1rio?")){e.next=5;break}return e.next=3,Object(Ne.a)(t.id);case 3:e.sent.error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel excluir o usu\xe1rio"):(l.c.sendSuccessMessage("Aluno excluido com sucesso"),p());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){p()}),[]),Object(r.useEffect)((function(){p()}),[m]),n.a.createElement("div",{className:"UsersList"},n.a.createElement("h1",{className:"page-title"},"Lista de Alunos"),n.a.createElement("div",{className:"search-form"},n.a.createElement("input",{className:"search-input",onChange:function(e){return d(e.target.value)},value:m,type:"search",placeholder:"Buscar nome do aluno"})),n.a.createElement(u.Link,{to:"/admin/alunos/novo",className:"add-user button center-content"},"Adicionar Aluno",n.a.createElement("i",{className:"mi"},"add_circle_outline")),n.a.createElement("div",{className:"users"},!a||a.length<=0?"Nenhum usu\xe1rio encontrado":a.map((function(e){return n.a.createElement("div",{key:e.id,className:"User"},n.a.createElement("div",{className:"user-photo"},e.photo&&n.a.createElement(x.a,{file:e.photo,alt:e.name}),!e.photo&&n.a.createElement("img",{src:"/images/default-user-photo.png",alt:""})),n.a.createElement("div",{className:"user-details"},n.a.createElement(u.Link,{to:"/admin/alunos/".concat(e.id)},n.a.createElement("div",{className:"user-name"},e.name),n.a.createElement("div",{className:"user-courses"},n.a.createElement("div",{className:"key"},"Cursos feitos:"),n.a.createElement("div",{className:"value"},"nome dos cursos")),n.a.createElement("div",{className:"user-questions"},n.a.createElement("div",{className:"key"},"Perguntas:"),n.a.createElement("div",{className:"value"},"aula 1, aula 3")),n.a.createElement("div",{className:"user-answers"},n.a.createElement("div",{className:"key"},"Respostas:"),n.a.createElement("div",{className:"value"},"aula 4, aula 5")))),n.a.createElement("div",{className:"user-progress"},n.a.createElement("div",{className:"button-group"},n.a.createElement(u.Link,{to:"/admin/alunos/".concat(e.id,"/editar"),className:"edit-user edit button small mi"},"edit"),n.a.createElement("button",{className:"remove-user remove button small mi",onClick:function(t){return function(e){return f.apply(this,arguments)}(e)}},"delete")),n.a.createElement(Q,{className:"user-progress-bar",progress:e.progress||0})))}))))};var qe=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(o.a)(c,2),m=(i[0],i[1],v.a.currentUserValue);function d(){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(m.token)}},e.next=3,A.a.get("".concat("http://localhost:3333/api/v1/","users?limit=25&page=1"),t);case 3:return a=e.sent,e.next=6,a.data;case 6:r=e.sent,console.log(r),s(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja excluir este usu\xe1rio?")){e.next=5;break}return e.next=3,Object(Ne.a)(t.id);case 3:e.sent.error?l.c.sendErrorMessage("N\xe3o foi poss\xedvel excluir o usu\xe1rio"):(l.c.sendSuccessMessage("Aluno excluido com sucesso"),d());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){d()}),[]),n.a.createElement("div",{className:"UsersList"},n.a.createElement("h1",{className:"page-title"},"Lista de Users"),n.a.createElement("div",{className:"search-form"},n.a.createElement("input",{className:"search-input",onChange:function(e){e.target.value.length<1&&d();var t=a.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));s(t)},type:"search",placeholder:"Buscar nome do aluno"})),n.a.createElement(u.Link,{to:"/admin/alunos/novo",className:"add-user button center-content"},"Adicionar Aluno",n.a.createElement("i",{className:"mi"},"add_circle_outline")),n.a.createElement("div",{className:"users"},!a||a.length<=0?"Nenhum usu\xe1rio encontrado":a.map((function(e){return n.a.createElement("div",{key:e.id,className:"User"},n.a.createElement("div",{className:"user-photo"},e.photo&&n.a.createElement(x.a,{file:e.photo,alt:e.name}),!e.photo&&n.a.createElement("img",{src:"/images/default-user-photo.png",alt:""})),n.a.createElement("div",{className:"user-details"},n.a.createElement(u.Link,{to:"/admin/alunos/".concat(e.id)},n.a.createElement("div",{className:"user-name"},e.name),n.a.createElement("div",{className:"user-courses"},n.a.createElement("div",{className:"key"},"Cursos feitos:"),n.a.createElement("div",{className:"value"},"nome dos cursos")),n.a.createElement("div",{className:"user-questions"},n.a.createElement("div",{className:"key"},"Perguntas:"),n.a.createElement("div",{className:"value"},"aula 1, aula 3")),n.a.createElement("div",{className:"user-answers"},n.a.createElement("div",{className:"key"},"Respostas:"),n.a.createElement("div",{className:"value"},"aula 4, aula 5")))),n.a.createElement("div",{className:"user-progress"},n.a.createElement("div",{className:"button-group"},n.a.createElement(u.Link,{to:"/admin/alunos/".concat(e.id,"/editar"),className:"edit-user edit button small mi"},"edit"),n.a.createElement("button",{className:"remove-user remove button small mi",onClick:function(t){return function(e){return _.apply(this,arguments)}(e)}},"delete")),n.a.createElement(Q,{className:"user-progress-bar",progress:e.progress||0})))}))))};a(157);var Ve=Object(i.o)((function(e){var t=e.history,a=Object(i.m)().id,s=a?"update":"store",c=Object(r.useState)({}),u=Object(o.a)(c,2),m=u[0],d=u[1],p=Object(r.useState)(""),_=Object(o.a)(p,2),f=_[0],v=_[1],h=Object(r.useState)(""),O=Object(o.a)(h,2),j=O[0],N=O[1],y=Object(r.useState)(""),w=Object(o.a)(y,2),M=w[0],k=w[1],P=Object(r.useState)(""),D=Object(o.a)(P,2),C=D[0],S=D[1],U=Object(r.useState)(""),A=Object(o.a)(U,2),L=A[0],I=A[1],R=Object(r.useState)(!1),T=Object(o.a)(R,2),B=T[0],K=T[1],W=Object(r.useState)(null),F=Object(o.a)(W,2),q=F[0],V=F[1],z=Object(r.useState)([]),G=Object(o.a)(z,2),Y=G[0],J=G[1],H=Object(r.useState)(!1),$=Object(o.a)(H,2),Q=$[0],X=$[1],Z=Object(r.useState)(null),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1];function re(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(b.a)(E.a.mark((function e(r){var n,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault(),Object(g.a)(),(n=new FormData).append("name",f),n.append("email",j),n.append("level",C||null),n.append("school_id",L),n.append("is_teacher",!0===B?1:0),"update"===s&&""===M||n.append("password",M),q&&n.append("photo",q),Q&&n.append("remove_photo",!0),"update"!==s){e.next=17;break}return e.next=14,Object(Ne.e)(a,n);case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,Object(Ne.d)(n);case 19:e.t0=e.sent;case 20:(c=e.t0).error?(o=c.error.message||"Ocorreu um erro ao gravar os dados",l.c.sendErrorMessage(o),Object(g.b)(c.errors)):(l.b.currentUserValue.id===m.id&&l.b.refreshUserData(),r&&t.push("/admin/alunos"),Q&&(X(!1),l.c.sendSuccessMessage("Foto removida")),d(c));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(null),X(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.c)();case 2:(t=e.sent).error?(a=t.error.message||"Ocorreu um error ao carregar as lojas",l.c.sendErrorMessage(a)):J(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.b)(a);case 2:(t=e.sent).error?(l.c.sendErrorMessage("N\xe3o foi poss\xedvel carregar os dados do usu\xe1rio"),console.error(t.error)):(d(t),v(t.name),N(t.email),S(t.level||""),I(t.school_id||""),K(!!t.is_teacher));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[a]),Object(r.useEffect)((function(){Q&&(m.photo?re():X(!1))}),[Q]),n.a.createElement("div",{className:"UsersSave"},n.a.createElement("h1",{className:"page-title"},"update"===s?"Editar":"Novo"," Usu\xe1rio"),n.a.createElement("form",{onSubmit:re,className:"model-form content-box"},n.a.createElement("div",{className:"user-photo-wraper"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",null,"Foto do Perfil:"),(m.photo||te)&&n.a.createElement("div",{className:"photo-field"},n.a.createElement("div",{className:"current-photo field"},!te&&m.photo&&n.a.createElement(x.a,{file:m.photo}),!Q&&te&&!m.photo&&n.a.createElement("img",{src:te,alt:""})),n.a.createElement("div",{className:"button",onClick:function(){return se.apply(this,arguments)}},"Remover imagem")),("update"!==s&&!te||!m.photo&&!te)&&n.a.createElement("div",{className:"photo-field upload-field field"},n.a.createElement(he.a,{onDrop:function(e){if(e.length){var t=new FileReader;t.onload=function(e){ae(e.target.result)},t.readAsDataURL(e[0]),V(e[0])}}},(function(e){var t=e.getRootProps,a=e.getInputProps;return n.a.createElement("section",null,n.a.createElement("div",t(),n.a.createElement("input",a()),n.a.createElement("p",null,"Arraste e solte um arquivo aqui, ou clique pare selecionar")))}))))),n.a.createElement("div",{className:"user-field"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"name"},"Nome:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"name",type:"text",value:f,onChange:function(e){return v(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"email"},"E-mail:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"email",type:"text",value:j,onChange:function(e){return N(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"password"},"Senha:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"password",type:"password",value:M,onChange:function(e){return k(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"level"},"N\xedvel:"),n.a.createElement("div",{className:"field"},n.a.createElement("select",{id:"level",type:"text",value:C,onChange:function(e){return S(e.target.value)}},n.a.createElement("option",{value:""},"Selecione um n\xedvel"),[{value:"admin",label:"Administrador"},{value:"manager",label:"Gerente"},{value:"student",label:"Estudante"}].map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.label)}))))),n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"school_id"},"Loja:"),n.a.createElement("div",{className:"field"},n.a.createElement("select",{id:"school_id",value:L,onChange:function(e){return I(e.target.value)}},n.a.createElement("option",{value:""},"Selecione uma loja"),Y.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),n.a.createElement("div",{className:"is_teacher-field form-field"},n.a.createElement("label",{htmlFor:"is_teacher"},"Professor?"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"is_teacher",type:"checkbox",checked:B,onChange:function(e){return K(e.target.checked)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("button",{type:"submit"},"Gravar")))))}));a(63);var ze=Object(i.o)((function(e){e.history;var t=Object(i.m)().id,a=Object(r.useState)({}),s=Object(o.a)(a,2),c=s[0],m=s[1];return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.b)(t,!0);case 2:(a=e.sent).error?(l.c.sendErrorMessage("N\xe3o foi poss\xedvel carregar os dados do usu\xe1rio"),console.error(a.error)):m(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[t]),n.a.createElement("div",{className:"UsersShow"},n.a.createElement("h1",{className:"page-title"},"Dados do Usu\xe1rio"),n.a.createElement("div",{className:"user-fields"},n.a.createElement("div",{className:"photo-field"},c.photo&&n.a.createElement(x.a,{file:c.photo,alt:c.name}),!c.photo&&n.a.createElement("img",{src:"/images/default-user-photo.png",alt:""})),n.a.createElement("div",{className:"user-detais"},n.a.createElement("div",{className:"user-field"},n.a.createElement("div",{className:"label"},"Nome:"),n.a.createElement("div",{className:"value"},c.name)),n.a.createElement("div",{className:"user-field"},n.a.createElement("div",{className:"label"},"Email:"),n.a.createElement("div",{className:"value"},c.email)),n.a.createElement("div",{className:"user-field"},n.a.createElement("div",{className:"label"},"N\xedvel:"),n.a.createElement("div",{className:"value"},{admin:"Administrador",manager:"Gerente",student:"Estudante"}[c.level])),c.school&&n.a.createElement("div",{className:"user-field"},n.a.createElement("div",{className:"label"},"Loja:"),n.a.createElement("div",{className:"value"},c.school.name)),n.a.createElement("div",{className:"user-field"},n.a.createElement("div",{className:"label"},"Professor:"),n.a.createElement("div",{className:"value"},c.teacher?"Sim":"N\xe3o")))),n.a.createElement("div",{className:"user-courses"},n.a.createElement("h3",null,"Cursos em Progresso:"),n.a.createElement("div",{className:"courses-list"},!c.courses||c.courses.length<=0?"Nenhum curso em progresso":c.courses.map((function(e){return n.a.createElement("div",{key:e.id,className:"course"},n.a.createElement(u.Link,{className:"course-name",to:"/cursos/".concat(e.id),target:"_blank"},e.name),n.a.createElement("div",{className:"course-progress"},n.a.createElement(Q,{progress:e.progress})))})))),n.a.createElement("div",{className:"user-comments"},n.a.createElement("h3",null,"Perguntas Realizadas:"),n.a.createElement("div",{className:"comments-list list-items"},!c.comments||c.comments.length<=0?"Nenhuma pergunta realizada":c.comments.map((function(e){return n.a.createElement("div",{key:e.id,className:"comment item"},n.a.createElement("div",{className:"comment-wraper item-details"},n.a.createElement("div",{className:"comment-header item-header"},n.a.createElement("div",{className:"comment-user-date"},n.a.createElement("div",{className:"comment-user item-title"},c.name),n.a.createElement("div",{className:"comment-date"},J()(e.created_at).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"comment-lesson"},n.a.createElement(u.Link,{to:"/cursos/".concat(e.lesson.module.course_id,"/aula/").concat(e.lesson.id,"/#comment-").concat(e.id),target:"_blank"},e.lesson.module.course.name," \u203a ",e.lesson.name))),n.a.createElement("div",{className:"comment-content item-content"},e.content)))})))))}));var Ge=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];function c(){return(c=Object(b.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.a)(t);case 2:(r=e.sent).error?(n=r.error.message||"Ocorreu um erro ao excluir o registro",l.c.sendErrorMessage(n)):(l.c.sendSuccessMessage("Registro excluido"),s(a.filter((function(e){return e.id!==t}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.c.clearMessages(),e.next=3,Object(ge.c)();case 3:(t=e.sent).error?l.c.sendErrorMessage("Ocorreu um erro ao processar a requisi\xe7\xe3o. Detalhes: ".concat(t.error)):s(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"SchoolsList"},n.a.createElement("h1",{className:"page-title"},"Lojas"),n.a.createElement(u.Link,{to:"/admin/lojas/novo",className:"new-school button-add button"},"Nova Loja"),n.a.createElement("table",{className:"datatable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"id"},"ID"),n.a.createElement("th",{className:"name"},"NOME"),n.a.createElement("th",{className:"actions"},"A\xc7\xd5ES"))),n.a.createElement("tbody",null,a.map((function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",{className:"id"},e.id),n.a.createElement("td",{className:"name"},e.name),n.a.createElement("td",{className:"actions"},n.a.createElement(u.Link,{className:"mi",to:"/admin/lojas/".concat(e.id)},"edit"),n.a.createElement("button",{className:"button-del link mi",onClick:function(t){return function(e){return c.apply(this,arguments)}(e.id)}},"delete")))})))))};var Ye=function(){var e=Object(i.m)().id,t=Object(r.useState)({}),a=Object(o.a)(t,2),s=a[0],c=a[1],m=Object(r.useState)(""),d=Object(o.a)(m,2),p=d[0],_=d[1],f=Object(r.useState)(!1),v=Object(o.a)(f,2),h=v[0],O=v[1];function g(){return(g=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(s.name),O(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p===s.name){e.next=5;break}return e.next=3,Object(ge.e)(s.id,{name:p});case 3:(t=e.sent).error?l.c.sendErrorMessage(t.error):(l.c.sendSuccessMessage("Gravado com sucesso"),c(t));case 5:O(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function t(){return(t=Object(b.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ge.b)(e);case 2:a=t.sent,l.c.clearMessages(),a.error?l.c.sendErrorMessage(a.error):c(a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),n.a.createElement("div",{className:"SchoolsShow"},n.a.createElement("h1",{className:"page-title"},"Detalhes da Loja"),n.a.createElement(u.Link,{className:"back button",to:"/admin/lojas"},n.a.createElement("i",{className:"mi mi-16"},"navigate_before")," voltar"),n.a.createElement("div",{className:"school-content model-content content-box"},s.name&&n.a.createElement("div",{className:"school-name model-field"},!h&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"value"},s.name),n.a.createElement("button",{className:"edit-name link",onClick:function(){return g.apply(this,arguments)}},"(editar)")),h&&n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"text",value:p,onChange:function(e){return _(e.target.value)},onKeyUp:function(e){return 13===e.which?j():null}}),n.a.createElement("button",{className:"update-name link",onClick:j},"(gravar)")))))};var Je=Object(i.o)((function(e){var t=e.history,a=Object(r.useState)(""),s=Object(o.a)(a,2),c=s[0],u=s[1];function i(){return(i=Object(b.a)(E.a.mark((function e(a){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),l.c.clearMessages(),e.next=4,Object(ge.d)({name:c});case 4:(r=e.sent).error?(n=r.error.message||"Ocorreu um erro ao gravar os dados",l.c.sendErrorMessage(n)):t.push("/admin/lojas");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement("div",{className:"SchoolsSave"},n.a.createElement("h1",{className:"page-title"},"Nova Loja"),n.a.createElement("form",{onSubmit:function(e){return i.apply(this,arguments)},className:"model-form content-box"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"name"},"Nome:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"name",type:"text",value:c,onChange:function(e){return u(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("button",{type:"submit"},"Gravar"))))}));var He=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];function c(){return(c=Object(b.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(je.a)(t);case 2:(r=e.sent).error?(n=r.error.message||"Ocorreu um erro ao excluir o registro",l.c.sendErrorMessage(n)):(l.c.sendSuccessMessage("Registro excluido"),s(a.filter((function(e){return e.id!==t}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.c.clearMessages(),e.next=3,Object(je.c)();case 3:(t=e.sent).error?l.c.sendErrorMessage("Ocorreu um erro ao processar a requisi\xe7\xe3o. Detalhes: ".concat(t.error)):s(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"CategoriesList"},n.a.createElement("h1",{className:"page-title"},"Categorias"),n.a.createElement(u.Link,{to:"/admin/categorias/novo",className:"new-category button-add button"},"Nova Categoria"),n.a.createElement("table",{className:"datatable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"id"},"ID"),n.a.createElement("th",{className:"name"},"NOME"),n.a.createElement("th",{className:"actions"},"A\xc7\xd5ES"))),n.a.createElement("tbody",null,a.map((function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",{className:"id"},e.id),n.a.createElement("td",{className:"name"},e.name),n.a.createElement("td",{className:"actions"},n.a.createElement(u.Link,{className:"mi",to:"/admin/categorias/".concat(e.id)},"edit"),n.a.createElement("button",{className:"button-del link mi",onClick:function(t){return function(e){return c.apply(this,arguments)}(e.id)}},"delete")))})))))};var $e=Object(i.o)((function(e){var t=e.history,a=Object(r.useState)(""),s=Object(o.a)(a,2),c=s[0],u=s[1];function i(){return(i=Object(b.a)(E.a.mark((function e(a){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),l.c.clearMessages(),e.next=4,Object(je.d)({name:c});case 4:(r=e.sent).error?(n=r.error.message||"Ocorreu um erro ao gravar os dados",l.c.sendErrorMessage(n)):t.push("/admin/categorias");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement("div",{className:"CategoriesSave"},n.a.createElement("h1",{className:"page-title"},"Nova Categoria"),n.a.createElement("form",{onSubmit:function(e){return i.apply(this,arguments)},className:"model-form content-box"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"name"},"Nome:"),n.a.createElement("div",{className:"field"},n.a.createElement("input",{id:"name",type:"text",value:c,onChange:function(e){return u(e.target.value)}}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("button",{type:"submit"},"Gravar"))))}));var Qe=function(){var e=Object(i.m)().id,t=Object(r.useState)({}),a=Object(o.a)(t,2),s=a[0],c=a[1],m=Object(r.useState)(""),d=Object(o.a)(m,2),p=d[0],_=d[1],f=Object(r.useState)(!1),v=Object(o.a)(f,2),h=v[0],O=v[1];function g(){return(g=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(s.name),O(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p===s.name){e.next=5;break}return e.next=3,Object(je.e)(s.id,{name:p});case 3:(t=e.sent).error?l.c.sendErrorMessage(t.error):(l.c.sendSuccessMessage("Gravado com sucesso"),c(t));case 5:O(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function t(){return(t=Object(b.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(je.b)(e);case 2:a=t.sent,l.c.clearMessages(),a.error?l.c.sendErrorMessage(a.error):c(a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),n.a.createElement("div",{className:"CategoriesShow"},n.a.createElement("h1",{className:"page-title"},"Detalhes da Categoria"),n.a.createElement(u.Link,{className:"back button",to:"/admin/categorias"},n.a.createElement("i",{className:"mi mi-16"},"navigate_before")," voltar"),n.a.createElement("div",{className:"category-content model-content content-box"},s.name&&n.a.createElement("div",{className:"category-name model-field"},!h&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"value"},s.name),n.a.createElement("button",{className:"edit-name link",onClick:function(){return g.apply(this,arguments)}},"(editar)")),h&&n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"text",value:p,onChange:function(e){return _(e.target.value)},onKeyUp:function(e){return 13===e.which?j():null}}),n.a.createElement("button",{className:"update-name link",onClick:j},"(gravar)")))))};var Xe=function(){return n.a.createElement(u.BrowserRouter,null,n.a.createElement(i.g,null,n.a.createElement(i.d,{path:"/esqueci-minha-senha",component:O}),n.a.createElement(i.d,{path:"/reset/:token",component:j}),n.a.createElement(i.d,{path:"/login",component:N}),n.a.createElement(p,{path:"/",exact:!0,component:P}),n.a.createElement(p,{path:"/perfil",component:D.a}),n.a.createElement(p,{path:"/cursos",exact:!0,component:be}),n.a.createElement(p,{path:"/cursos/:id",exact:!0,component:Ee}),n.a.createElement(p,{path:"/cursos/:id/aula/:lessonId",exact:!0,component:Ee}),n.a.createElement(p,{path:"/admin/lojas",exact:!0,component:Ge,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/lojas/novo",exact:!0,component:Je,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/lojas/:id",component:Ye,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/categorias",exact:!0,component:He,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/categorias/novo",exact:!0,component:$e,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/categorias/:id",component:Qe,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/cursos",exact:!0,component:be,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/cursos/novo",exact:!0,component:we,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/cursos/:id/editar",component:Te,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/perguntas",exact:!0,component:We,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/alunos",exact:!0,component:Fe,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/users",exact:!0,component:qe,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/alunos/novo",exact:!0,component:Ve,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/alunos/:id",exact:!0,component:ze,onlyAdmin:!0}),n.a.createElement(p,{path:"/admin/alunos/:id/editar",exact:!0,component:Ve,onlyAdmin:!0}),n.a.createElement(i.d,{path:"*",component:_})))};a(158);var Ze=Object(i.o)((function(e){e.logout;var t=e.currentUser;return t?n.a.createElement("header",{className:"Header"},n.a.createElement(u.Link,{className:"logo",to:"/"},n.a.createElement("img",{src:"/images/logo-academy-preto.png"})),n.a.createElement("nav",{className:"menu"},n.a.createElement("ul",null,l.b.isAdmin()&&n.a.createElement("li",null,n.a.createElement("span",null,"Admin"),n.a.createElement("ul",null,n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.NavLink,{to:"/admin/lojas"},"Lojas")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.NavLink,{to:"/admin/users"},"Alunos")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.NavLink,{to:"/admin/cursos"},"Cursos")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.NavLink,{to:"/admin/perguntas"},"Perguntas")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.NavLink,{to:"/admin/categorias"},"Categorias")))),n.a.createElement("li",null,n.a.createElement(u.NavLink,{to:"/cursos"},"Cursos")),n.a.createElement("li",null,n.a.createElement(u.NavLink,{to:"/perfil"},"Meus Dados")))),t&&n.a.createElement("div",{className:"user"},n.a.createElement("div",{className:"user-photo"},t.photo&&n.a.createElement(x.a,{file:t.photo,alt:t.name}),!t.photo&&n.a.createElement("img",{src:"/images/default-user-photo.png",alt:""})),n.a.createElement("div",{className:"user-name"},"Ol\xe1, ",n.a.createElement("span",{className:"name"},t.name)),n.a.createElement("button",{className:"logout-button",onClick:function(e){return l.b.logout()}},"Sair"))):null})),et=(a(159),a(73)),tt=a(74),at=a(76),rt=a(75),nt=function(e){Object(at.a)(a,e);var t=Object(rt.a)(a);function a(e){var r;return Object(et.a)(this,a),(r=t.call(this,e)).state={hasError:!1,info:"",error:""},r}return Object(tt.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",{className:"error-message"},n.a.createElement("h1",{className:"error"},"Ocorreu um erro na aplica\xe7\xe3o")):this.props.children}}]),a}(r.Component);a(160);var st=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];function c(e){var t=a.filter((function(t){return t.id!==e.id}));s(t)}return Object(r.useEffect)((function(){var e=h.a.getMessage().subscribe((function(e){e?function(e){if(a.some((function(t){return t.id===e.id})))return;s([].concat(Object(S.a)(a),[e])),e.autoClose&&setTimeout((function(){return c(e)}),e.autoCloseTime||3e3)}(e):s([])}));return function(){return e.unsubscribe()}})),n.a.createElement(n.a.Fragment,null,a.length>0&&n.a.createElement("div",{className:"notifications"},a.map((function(e){return n.a.createElement("div",{key:e.id,className:"message "+e.type},n.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.content}}),n.a.createElement("button",{className:"close link",onClick:function(t){return c(e)}},"x"))}))))};var ct=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(r.useEffect)((function(){l.b.currentUser.subscribe(s)}),[]),n.a.createElement(u.BrowserRouter,{forceRefresh:!0},n.a.createElement("div",{className:"App"},n.a.createElement(nt,null,n.a.createElement(Ze,{currentUser:a})),n.a.createElement("main",null,n.a.createElement(st,null),n.a.createElement(nt,null,n.a.createElement(Xe,null)))))};c.a.render(n.a.createElement(ct,null),document.getElementById("root"))}],[[79,1,2]]]);
//# sourceMappingURL=main.45e57087.chunk.js.map