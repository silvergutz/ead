{"version":3,"sources":["services/index.js","helpers/history.js","helpers/handleError.js","services/globalNotifications.js","components/ImgProtected/index.js","services/users.js","services/auth.js","services/courses.js","services/schools.js","services/categories.js","helpers/handleFormFieldsError.js","services/api.js","services/uploads.js","services/profile.js","pages/Profile/index.js","components/PrivateRoute/index.js","pages/PageNotFound/index.js","pages/ForgotPassword/index.js","pages/ResetPassword/index.js","pages/Login/index.js","components/CoursesCarrossel/index.js","pages/Home/index.js","components/VideoPlayer/index.js","services/comments.js","components/CommentsForm/index.js","components/CommentsList/index.js","components/LessonComments/index.js","components/ProgressBar/index.js","services/attachments.js","components/AttachmentsList/index.js","services/lessons.js","pages/Courses/CoursesShow/index.js","components/CoursesList/index.js","pages/Admin/Courses/CoursesForm/index.js","pages/Admin/Courses/CoursesSave/index.js","services/modules.js","pages/Admin/Courses/ModulesCreate/index.js","pages/Admin/Courses/LessonsCreate/index.js","pages/Admin/Courses/ModulesList/index.js","pages/Admin/Courses/CoursesEdit/index.js","helpers/useQuery.js","pages/Admin/Comments/CommentsList/index.js","pages/Admin/Users/UsersList/index.js","pages/Admin/Users/UsersList/users.js","pages/Admin/Users/UsersSave/index.js","pages/Admin/Users/UsersShow/index.js","pages/Admin/Schools/SchoolsList/index.js","pages/Admin/Schools/SchoolsShow/index.js","pages/Admin/Schools/SchoolsSave/index.js","pages/Admin/Categories/CategoriesList/index.js","pages/Admin/Categories/CategoriesSave/index.js","pages/Admin/Categories/CategoriesShow/index.js","routes.js","components/Header/index.js","components/ErrorBoundary/index.js","components/GlobalNotifications/index.js","App.js","index.js"],"names":["createBrowserHistory","handleError","error","response","status","data","errorData","respose","message","subject","Subject","globalNotifications","sendMessage","sendDebugMessage","content","type","sendInfoMessage","sendSuccessMessage","sendWarningMessage","sendErrorMessage","clearMessages","next","getMessage","asObservable","id","v1","autoClose","indexOf","autoCloseTime","ImgProtected","props","useState","url","setUrl","setError","loading","setLoading","useEffect","a","download","file","fileUrl","loadImage","src","className","alt","width","height","onLoad","URL","revokeObjectURL","getUsers","searchTerm","progress","qsData","s","qs","querystring","stringify","api","get","findUser","storeUser","post","updateUser","put","deleteUser","delete","currentUserSubject","BehaviorSubject","JSON","parse","localStorage","getItem","auth","login","credentials","then","token","user","setItem","logout","removeItem","requestForgotPasswordToken","resetPassword","isAdmin","currentUserValue","level","refreshUserData","currentUser","value","newUserInfos","email","console","log","getCourses","getCoursesInProgress","userId","parseInt","in_progress","getCoursesCarrossel","inProgressResponse","courses","inProgress","recent","categories","forEach","c","length","cat","hasCat","i","category","push","findCourse","storeCourse","updateCourse","deleteCourse","calcDuration","lessons","duration","reduce","accumulator","current","moment","asSeconds","dateTime","hours","String","days","substr","minutes","seconds","getSchools","findSchool","storeSchool","updateSchool","deleteSchool","getCategories","findCategory","storeCategory","updateCategory","deleteCategory","clearErrors","errorsElms","document","querySelectorAll","elm","classList","remove","setupErrorMessages","errors","errorMessage","map","e","detail","source","pointer","getElementById","add","axios","create","baseURL","process","interceptors","request","use","config","headers","Authorization","window","location","pathname","Promise","reject","force","responseType","createObjectURL","showProfile","updateProfile","Profile","setUser","name","setName","setEmail","password","setPassword","tempPhoto","setTempPhoto","isUpdating","setIsUpdating","fields","handleEdit","field","currentIsUpdating","eval","charAt","toUpperCase","slice","handleUpdate","updated","handleFileDrop","acceptedFiles","reader","FileReader","onload","target","result","readAsDataURL","FormData","append","handleRemovePhoto","remove_photo","loadProfile","photo","onClick","onDrop","getRootProps","getInputProps","onChange","onKeyUp","which","PrivateRoute","Component","component","onlyAdmin","rest","render","to","state","from","PageNotFound","ForgotPassword","sending","setSending","success","setSuccess","preventDefault","onSubmit","htmlFor","disabled","ResetPassword","useParams","passwordConfirmation","setPasswordConfirmation","expired","setExpired","password_confirmation","withRouter","history","placeholder","CoursesCarrossel","setCourses","sliderSettings","dots","arrows","infinite","slidesToShow","slidesToScroll","responsive","breakpoint","settings","loadCourses","Math","min","course","key","cover","teachers","teacher","VideoPlayer","video","onVideoEnded","onVideoPlaying","videoId","setVideoId","videoType","setVideoType","videoTitle","setVideoTitle","video_id","title","lastIndexOf","loadVideo","YouTube","opts","playerVars","autoplay","rel","showinfo","controls","modestbranding","iv_load_policy","onReady","event","setVolume","playVideo","onStateChange","frameBorder","webkitAllowFullScreen","mozAllowFullScreen","allowFullScreen","getComments","lessonId","lesson","storeComment","deleteComment","CommentsForm","parent","refreshComments","enabled","setEnabled","setContent","lesson_id","parent_id","CommentsList","comments","enabledReplyForm","setEnabledReplyForm","loadComments","comment","created_at","format","children","setComments","filter","hash","scrollTo","offsetTop","ProgressBar","classNameAttr","undefined","currentProgress","setCurrentProgress","style","textIndent","getAttachments","attachmentableType","attachmentableId","ptype","pid","storeAttachment","deleteAttachment","AttachmentsList","attachmentable","handleRemoveFile","attachments","setAttachments","downloading","setDownloading","attachment","createElement","display","href","setAttribute","body","appendChild","click","removeChild","v","loadAttachments","handleDownload","some","findLesson","storeLesson","updateLesson","deleteLesson","storeLessonAction","action","activeModules","setActiveModules","setCourse","modules","setModules","setLesson","setVideo","loadCourse","errorDetails","formatedModules","m","l","actions","p","moveToNextLesson","isModuleActive","changeActiveLesson","module_id","currentIndex","toggleActiveModule","CoursesList","setSearchTerm","confirm","handleDestroyCourse","onCourseChange","description","setDescription","setCover","schools","setSchools","setCategories","setTeachers","setStatus","removeCover","setRemoveCover","tempCover","setTempCover","schoolsList","setSchoolsList","categoriesList","setCategoriesList","teachersList","setTeachersList","formatMultiSelectValue","err","selected","school","label","loadSchools","loadCategories","loadTeachers","remove_cover","updateRemoveCover","options","isMulti","isSearchable","CoursesSave","getModules","courseId","storeModule","updateModule","deleteModule","obj","refreshModules","moduleObj","setModuleObj","isEditingName","setIsEditingName","moduleName","setModuleName","course_id","handleDestroyModule","promisses","all","loadLesson","top","multiple","ModulesList","currentModule","setCurrentModule","currentLesson","setCurrentLesson","lessonUpdate","setLessonUpdate","activeLessonForm","setActiveLessonForm","loadModules","focusLesson","handleAddLesson","handleEditLesson","handleDestroyLesson","query","URLSearchParams","useLocation","search","selectedIndex","setSelectedIndex","onSelect","require","useQuery","usersList","setUsersList","loadUsers","userFromQs","selectedUser","setUserFromLocation","module","handleDelete","UsersList","users","setUsers","handleDestroyUser","pegaUser","res","item","toLowerCase","includes","setLevel","schoolId","setSchoolId","isTeacher","setIsTeacher","setPhoto","removePhoto","setRemovePhoto","handleSubmit","school_id","is_teacher","loadUser","checked","admin","manager","student","SchoolsList","SchoolsShow","setSchool","handleUpdateName","loadSchool","CategoriesList","CategoriesShow","setCategory","loadCategory","Routes","path","Login","exact","Home","CoursesShow","SchoolsSave","CategoriesSave","CoursesEdit","UsersNovo","UsersSave","UsersShow","ErrorBoundary","hasError","info","this","setState","GlobalNotifications","notifications","setNotifications","dismissMessage","messages","subscription","subscribe","setTimeout","addMessage","unsubscribe","dangerouslySetInnerHTML","__html","App","setCurrentUser","forceRefresh","ReactDOM"],"mappings":"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","file":"static/js/main.45e57087.chunk.js","sourcesContent":["import api from './api';\nimport auth from './auth';\nimport globalNotifications from './globalNotifications';\nimport uploads from './uploads';\nimport users from './users';\nimport schools from './schools';\nimport categories from './categories';\nimport courses from './courses';\n\nexport {\n  api,\n  auth,\n  globalNotifications,\n  uploads,\n\n  users,\n  schools,\n  categories,\n  courses,\n};\n","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();\n","function handleError(error) {\n  if (error.response) {\n    if (error.response.status === 404) {\n      return {\n        response: error.response,\n        error: 'Pgina no encontrada'\n      };\n    }\n\n    if (error.response.data) {\n      let errorData = { ...error.response.data };\n      if (!error.response.data.error) {\n        errorData.error = 'Infelizmente no foi possvel carregar o contedo';\n        errorData.respose = error.response;\n      }\n      return errorData;\n    }\n  }\n\n\n  return {\n    response: error.response,\n    error: error.message\n  };\n}\n\nexport default handleError;\n","import { Subject } from 'rxjs';\nimport { v1 } from 'uuid';\n\nconst subject = new Subject();\n\nconst globalNotifications = {\n  sendMessage,\n  sendDebugMessage:   (content) => sendMessage({ content, type: 'debug' }),\n  sendInfoMessage:    (content) => sendMessage({ content, type: 'info' }),\n  sendSuccessMessage: (content) => sendMessage({ content, type: 'success' }),\n  sendWarningMessage: (content) => sendMessage({ content, type: 'warning' }),\n  sendErrorMessage:   (content) => sendMessage({ content, type: 'error' }),\n\n  clearMessages: () => subject.next(),\n  getMessage: () => subject.asObservable(),\n}\n\nfunction sendMessage(message) {\n  if (!message.id) {\n    message.id = v1();\n  }\n  if (message.type !== 'debug') {\n    message.autoClose = true;\n    if (['info','success'].indexOf(message.type) > -1) {\n      message.autoCloseTime = 3000;\n    } else {\n      message.autoCloseTime = 7000;\n    }\n  }\n  subject.next(message);\n}\n\nexport default globalNotifications;\n","import React, { useState, useEffect } from 'react';\nimport { download } from '../../services/uploads';\n\nfunction ImgProtected(props) {\n  const [ url, setUrl ] = useState(false);\n  const [ error, setError ] = useState(false);\n  const [ loading, setLoading ] = useState(false);\n\n  useEffect(() => {\n    async function loadImage() {\n      setLoading(true);\n\n      const fileUrl = await download(props.file);\n      if (fileUrl) {\n        setUrl(fileUrl);\n      } else {\n        setError(true);\n      }\n\n      setLoading(false);\n    }\n\n    loadImage();\n  }, [props.file]);\n\n  function handleOnLoad() {\n    if (url) {\n      URL.revokeObjectURL(url);\n    }\n  }\n\n  if (!url && !loading && !error)\n    return '';\n\n  if (loading)\n    return (<img src=\"/images/loader.gif\" className=\"loading\" alt=\"carregando\" width=\"28\" height=\"28\" />);\n\n  if (error)\n    return (<span className=\"image-load-error\">Imagem indisponvel</span>);\n\n  return (\n    <img alt=\"\" {...props} src={url} onLoad={handleOnLoad} />\n  );\n}\n\nexport default ImgProtected;\n","import querystring from 'querystring';\nimport { api } from '../services';\nimport { handleError } from '../helpers';\n\nexport async function getUsers(searchTerm, progress) {\n  try {\n    let qsData = { s: searchTerm || '' }\n    if (progress) {\n      qsData.progress = true;\n    }\n\n    const qs = querystring.stringify(qsData);\n    const response = await api.get('/users' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findUser(id, progress) {\n  try {\n    let qs;\n    if (progress) {\n      qs = querystring.stringify({ progress: 1 });\n    }\n    const response = await api.get(`/users/${id}` + (qs ? `?${qs}` : ''))\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeUser(data) {\n  try {\n    const response = await api.post('/users', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateUser(id, data) {\n  try {\n    const response = await api.put(`/users/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteUser(id) {\n  try {\n    const response = await api.delete(`/users/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getUsers,\n  findUser,\n  storeUser,\n  updateUser,\n  deleteUser,\n}\n","import { BehaviorSubject } from 'rxjs';\n\nimport api from './api';\nimport { findUser } from './users';\nimport { handleError } from '../helpers';\n\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\n\nconst auth = {\n  login,\n  logout,\n  requestForgotPasswordToken,\n  resetPassword,\n  isAdmin,\n  refreshUserData,\n  currentUser: currentUserSubject.asObservable(),\n  get currentUserValue() { return currentUserSubject.value }\n};\n\nfunction login(credentials) {\n  return api.post('/authenticate', credentials)\n    .then(response => {\n      if (response.status === 200 && response.data.token) {\n        const user = response.data;\n\n        // Store current user JWT token in local storage to keep user logged in between page refreshs\n        localStorage.setItem('currentUser', JSON.stringify(user));\n        currentUserSubject.next(user);\n\n        return true;\n      } else {\n        return response.data;\n      }\n    })\n    // .catch(error => {\n    //   console.error(error);\n    //   return error;\n    // })\n  ;\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem('currentUser');\n  currentUserSubject.next(null);\n}\n\nfunction isAdmin() {\n  const user = auth.currentUserValue;\n  if (user && user.level === 'manager') {\n    return true;\n  }\n\n  return false;\n}\n\nasync function refreshUserData() {\n  const response = await findUser(auth.currentUserValue.id);\n\n  if (!response.error) {\n    const newUserInfos = { ...response, token: auth.currentUserValue.token };\n    localStorage.setItem('currentUser', JSON.stringify(newUserInfos));\n    currentUserSubject.next(newUserInfos);\n  }\n\n  return true;\n}\n\nasync function requestForgotPasswordToken(email) {\n  console.log('email', email);\n  try {\n    const response = await api.post('/forgot', { email });\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nasync function resetPassword(data) {\n  try {\n    const response = await api.post('/reset', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default auth;\n","import querystring from 'querystring';\nimport axios from 'axios';\nimport * as moment from 'moment';\n\nimport { api } from '../services';\nimport { handleError } from '../helpers';\nimport auth from './auth';\n\nexport async function getCourses(searchTerm) {\n  try {\n    let qs = querystring.stringify({ s: searchTerm || '' });\n    const response = await api.get('/courses/' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function getCoursesInProgress(userId) {\n  try {\n    let user;\n    if (userId) {\n      user = parseInt(userId);\n    } else {\n      user = auth.currentUserValue.id;\n    }\n    const qs = querystring.stringify({ in_progress: user });\n    const response = await api.get('/courses/' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function getCoursesCarrossel() {\n  const response = await getCourses();\n  if (response.error) return response;\n\n  const inProgressResponse = await getCoursesInProgress();\n\n  let courses = {\n    inProgress: !inProgressResponse.error ? inProgressResponse : [],\n    recent: [],\n    categories: [],\n  };\n\n  response.forEach((c) => {\n    if (c.categories && c.categories.length > 0) {\n      c.categories.forEach((cat) => {\n        // Find current category in array to avoid duplicates\n        let hasCat = false;\n        for (let i in courses.categories) {\n          if (courses.categories[i].category.id === cat.id) {\n            hasCat = i;\n            break;\n          }\n        }\n\n        // If not yeat has courses of this category\n        if (!hasCat) {\n          // Create an object with category and courses array\n          courses.categories.push({\n            category: cat,\n            courses: [c]\n          });\n        } else {\n          courses.categories[hasCat].courses.push(c);\n        }\n      });\n    }\n\n    // The first 12 courses will be show as recent\n    if (courses.recent.length < 12) {\n      courses.recent.push(c);\n    }\n  })\n\n  return courses;\n}\n\nexport async function findCourse(id, progress) {\n  try {\n    let user;\n    if (progress) {\n      if (progress === true) {\n        user = auth.currentUserValue.id;\n      } else {\n        user = parseInt(progress);\n      }\n    }\n    const qs = querystring.stringify({ progress: user });\n    const response = await api.get(`/courses/${id}${(qs ? `?${qs}` : '')}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeCourse(data) {\n  try {\n    const response = await api.post('/courses', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateCourse(id, data) {\n  try {\n    const response = await api.put(`/courses/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteCourse(id) {\n  try {\n    const response = await api.delete(`/courses/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport function calcDuration(lessons) {\n  const duration = lessons.reduce((accumulator, current) => {\n    let time = moment.duration(current.duration).asSeconds();\n    return accumulator + time;\n  }, 0);\n\n  const dateTime = moment.duration(duration, 'seconds');\n\n  let hours = String((dateTime.days() * 24) + dateTime.hours()).substr(-2);\n  if (hours.length === 1)\n    hours = '0' + hours;\n\n  const minutes = ('0' + dateTime.minutes()).substr(-2);\n  const seconds = ('0' + dateTime.seconds()).substr(-2);\n\n  return hours + ':' + minutes + ':' + seconds;\n}\n\nexport async function embedVideo(video) {\n  try {\n    if (video.indexOf('vimeo.com') >= 0) {\n      const response = await axios.get(`https://vimeo.com/api/oembed.json?url=${video}`);\n\n      if (response.data && response.data.html) {\n        return response.data.html;\n      }\n    } else {\n      if (video.indexOf('youtube.com/watch') >= 0) {\n        video = video.replace('watch?v=', 'embed/');\n      }\n      return `<iframe width=\"640\" height=\"580\" src=\"${video}\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n    }\n  } catch(e) {\n    console.error(e);\n    return 'Vdeo indisponvel';\n  }\n}\n\nexport default {\n  getCourses,\n  findCourse,\n  embedVideo,\n}\n","import { api } from '../services';\nimport { handleError } from '../helpers';\n\nexport async function getSchools() {\n  try {\n    const response = await api.get('/schools');\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findSchool(id) {\n  try {\n    const response = await api.get(`/schools/${id}`)\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeSchool(data) {\n  try {\n    const response = await api.post('/schools', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateSchool(id, data) {\n  try {\n    const response = await api.put(`/schools/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteSchool(id) {\n  try {\n    const response = await api.delete(`/schools/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getSchools,\n  findSchool,\n  storeSchool,\n  updateSchool,\n  deleteSchool,\n}\n","import { api } from '../services';\nimport { handleError } from '../helpers';\n\nexport async function getCategories() {\n  try {\n    const response = await api.get('/categories');\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findCategory(id) {\n  try {\n    const response = await api.get(`/categories/${id}`)\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeCategory(data) {\n  try {\n    const response = await api.post('/categories', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateCategory(id, data) {\n  try {\n    const response = await api.put(`/categories/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteCategory(id) {\n  try {\n    const response = await api.delete(`/categories/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getCategories,\n  findCategory,\n  storeCategory,\n  updateCategory,\n  deleteCategory,\n}\n","import globalNotifications from '../services/globalNotifications';\n\nexport function clearErrors() {\n  globalNotifications.clearMessages();\n\n  // Clean error messages\n  const errorsElms = document.querySelectorAll('form .error')\n  if (errorsElms)\n    errorsElms.forEach(elm => elm.classList.remove('error'));\n}\n\nexport function setupErrorMessages(errors) {\n  let errorMessage = '';\n  if (errors) {\n    errorMessage = 'Alguns campos no foram preenchidos corretamente:<br>';\n    errorMessage += '<ul>';\n    errors.map(e => {\n      errorMessage += `<li>${e.detail}</li>`;\n      if (e.source.pointer) {\n        const elm = document.getElementById(e.source.pointer);\n        if (elm) {\n          elm.classList.add('error');\n        }\n      }\n    });\n    errorMessage += '</ul>';\n  } else {\n    errorMessage = 'No foi possvel gravar os dados';\n  }\n  globalNotifications.sendErrorMessage(errorMessage);\n}\n\nexport default {\n  clearErrors,\n  setupErrorMessages,\n}\n","import axios from 'axios';\nimport auth from './auth';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL\n});\n\napi.interceptors.request.use(async config => {\n  // Set JWT token to every request if user is logged in\n  const user = auth.currentUserValue;\n  if (user && user.token) {\n    config.headers.Authorization = `Bearer ${user.token}`;\n  }\n\n  return config;\n});\n\napi.interceptors.response.use(response => response,\n  async error => {\n    if (error.response && [401,403].indexOf(error.response.status) !== -1) {\n      if (window.location.pathname !== '/login') {\n        auth.logout();\n        window.location = '/login';\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n","import api from './api';\nimport querystring from 'querystring';\n\nexport const download = async (file, force) => {\n  try {\n    // Is a full URL\n    if (file.indexOf('http') === 0) {\n      return file;\n    }\n\n    const qsData = {};\n    if (file) qsData.file = file;\n    if (force) qsData.force = 1;\n\n    // Is a partial URL that needs to pass for /downloads\n    const response = await api.get(`download?${querystring.stringify(qsData)}`, {\n      responseType: 'blob'\n    });\n\n    return URL.createObjectURL(response.data);\n  } catch(e) {\n    return false;\n  }\n}\n\nexport default {\n  download\n}\n","import { api } from '../services';\nimport { handleError } from '../helpers';\n\nexport async function showProfile() {\n  try {\n    const response = await api.get('profile')\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateProfile(data) {\n  try {\n    const response = await api.put('/profile', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  showProfile,\n  updateProfile,\n}\n","import React, { useEffect, useState } from 'react';\nimport Dropzone from 'react-dropzone';\nimport ImgProtected from '../../components/ImgProtected';\n\nimport { showProfile, updateProfile } from '../../services/profile';\nimport { auth } from '../../services';\nimport { globalNotifications } from '../../services';\nimport { clearErrors, setupErrorMessages } from '../../helpers/handleFormFieldsError';\n\nimport './styles.css';\n\nfunction Profile() {\n  const [ user, setUser ] = useState({});\n  const [ name, setName ] = useState('');\n  const [ email, setEmail ] = useState('');\n  const [ password, setPassword ] = useState('');\n\n  const [ tempPhoto, setTempPhoto ] = useState('');\n  const [ isUpdating, setIsUpdating ] = useState({ name: false, email: false, password: false });\n  const fields = ['name','email','password'];\n\n  useEffect(() => {\n    async function loadProfile() {\n      const response = await showProfile();\n\n      globalNotifications.clearMessages();\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage(response.error.message);\n      } else {\n        setUser(response);\n      }\n    }\n\n    loadProfile();\n  }, []);\n\n  async function handleEdit(field) {\n    if (fields.indexOf(field) > -1) {\n      const currentIsUpdating = {...isUpdating};\n      currentIsUpdating[field] = true;\n      setIsUpdating(currentIsUpdating);\n      eval(`set${field.charAt(0).toUpperCase() + field.slice(1)}(user.${field})`);\n    }\n  }\n\n  async function handleUpdate(field) {\n    let data = {};\n    let updated = true;\n\n    if (fields.indexOf(field) > -1) {\n      data[field] = eval(field);\n      if (data[field] !== eval(`user.${field}`)) {\n        clearErrors();\n\n        const response = await updateProfile(data);\n\n        if (response.error) {\n          setupErrorMessages(response.errors);\n          updated = false;\n        } else {\n          globalNotifications.sendSuccessMessage('Dados gravados com sucesso');\n          setUser(response);\n          auth.refreshUserData();\n        }\n      }\n    }\n\n    if (updated) {\n      const currentIsUpdating = {...isUpdating};\n      currentIsUpdating[field] = false;\n      setIsUpdating(currentIsUpdating);\n    }\n  }\n\n  async function handleFileDrop(acceptedFiles) {\n    if (acceptedFiles.length) {\n      var reader = new FileReader();\n      reader.onload = (e) => {\n        setTempPhoto(e.target.result);\n      };\n      reader.readAsDataURL(acceptedFiles[0]);\n\n      clearErrors();\n\n      const data = new FormData();\n      data.append('photo', acceptedFiles[0]);\n      const response = await updateProfile(data);\n\n      if (response.error) {\n        setupErrorMessages(response.errors);\n      } else {\n        globalNotifications.sendSuccessMessage('Foto alterada com sucesso');\n        setUser(response);\n        setTempPhoto(null);\n        auth.refreshUserData();\n      }\n    }\n  }\n\n  async function handleRemovePhoto() {\n    setTempPhoto(null);\n\n    const response = await updateProfile({ remove_photo: true });\n\n    if (response.error) {\n      setupErrorMessages(response.errors);\n    } else {\n      globalNotifications.sendSuccessMessage('Foto removida');\n      setUser(response);\n      auth.refreshUserData();\n    }\n  }\n\n  return (\n    <div className=\"Profile\">\n      <h1 className=\"page-title\">Meus Dados</h1>\n\n      <div className=\"profile-content\">\n        <div className=\"profile-photo\">\n          {(user.photo || tempPhoto) &&\n            <div className=\"photo-field\">\n              <figure className=\"current-photo field\">\n                {(!tempPhoto && user.photo) &&\n                  <ImgProtected file={user.photo} />\n                }\n                {(tempPhoto && !user.photo) &&\n                  <img src={tempPhoto} alt=\"\" />\n                }\n              </figure>\n              <div className=\"edit-photo link\" onClick={handleRemovePhoto}>remover foto</div>\n            </div>\n          }\n          {(!user.photo && !tempPhoto) &&\n            <div className=\"photo-field upload-field field\">\n              <Dropzone onDrop={handleFileDrop}>\n                {({getRootProps, getInputProps}) => (\n                  <section>\n                    <div {...getRootProps()}>\n                      <input {...getInputProps()} />\n                      <p>Arraste e solte um arquivo aqui, ou clique pare selecionar</p>\n                    </div>\n                  </section>\n                )}\n              </Dropzone>\n            </div>\n          }\n        </div>\n        <div className=\"profile-details\">\n          <div className=\"profile-name\">\n            {!isUpdating.name &&\n              <>\n                <div className=\"value\">{user.name}</div>\n                <button className=\"edit-name link\" onClick={e => handleEdit('name')}>(editar)</button>\n              </>\n            }\n            {isUpdating.name &&\n              <>\n                <input id=\"name\" type=\"text\" name=\"name\" value={name} onChange={e => setName(e.target.value)} onKeyUp={e => e.which === 13 ? handleUpdate('name') : null} />\n                <button className=\"confirm-edit-name link\" onClick={e => handleUpdate('name')}>(gravar)</button>\n              </>\n            }\n          </div>\n          <div className=\"profile-email\">\n            {!isUpdating.email &&\n              <>\n                <div className=\"value\">{user.email}</div>\n                <button className=\"edit-email link\" onClick={e => handleEdit('email')}>(editar)</button>\n              </>\n            }\n            {isUpdating.email &&\n              <>\n                <input id=\"email\" type=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} onKeyUp={e => e.which === 13 ? handleUpdate('email') : null} />\n                <button className=\"confirm-edit-email link\" onClick={e => handleUpdate('email')}>(gravar)</button>\n              </>\n            }\n          </div>\n          <div className=\"profile-password\">\n            {!isUpdating.password &&\n              <>\n                <div className=\"value\">**********</div>\n                <button className=\"edit-password link\" onClick={e => handleEdit('password')}>(alterar a senha)</button>\n              </>\n            }\n            {isUpdating.password &&\n              <>\n                <input id=\"password\" type=\"password\" name=\"password\" onChange={e => setPassword(e.target.value)} onKeyUp={e => e.which === 13 ? handleUpdate('password') : null} />\n                <button className=\"confirm-edit-email link\" onClick={e => handleUpdate('password')}>(gravar)</button>\n              </>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { auth } from '../../services';\n\nfunction PrivateRoute({ component: Component, onlyAdmin, ...rest }) {\n  return (\n    <Route {...rest} render={props => {\n        const currentUser = auth.currentUserValue;\n        if (!currentUser || (onlyAdmin && !auth.isAdmin())) {\n          // not logged in, redirect user to login page\n          return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n        }\n\n        // authorized, so return Component\n        return <Component {...props} />\n      }}\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import React from 'react';\n\nfunction PageNotFound() {\n  return (\n    <h1 className=\"page-title\">Pgina no encontrada</h1>\n  );\n}\n\nexport default PageNotFound;\n","import React, { useState } from 'react';\n\nimport auth from '../../services/auth';\nimport globalNotifications from '../../services/globalNotifications';\n\nimport './styles.css';\n\nfunction ForgotPassword() {\n  const [ email, setEmail ] = useState('');\n  const [ sending, setSending ] = useState(false);\n  const [ success, setSuccess ] = useState(false);\n\n  async function handleSubmit(e) {\n    if (sending) return;\n\n    e.preventDefault();\n    setSending(true);\n\n    const response = await auth.requestForgotPasswordToken(email);\n\n    if (response.error) {\n      if (response.response && response.response.status === 404) {\n        globalNotifications.sendErrorMessage('No encontramos nenhum usurio com o email fornecido, por favor verifique e tente novamente');\n      } else {\n        globalNotifications.sendErrorMessage('Infelizmente no foi possvel enviar a sua solicitao');\n        console.log(response);\n      }\n      setSuccess(false);\n    } else {\n      globalNotifications.sendSuccessMessage('Sua solicitao foi enviada com sucesso');\n      setSuccess(true);\n    }\n\n    setSending(false);\n  }\n\n  return (\n    <div className=\"ForgotPassword\">\n      <h1 className=\"page-title\">Esqueci a minha senha</h1>\n\n      <form onSubmit={handleSubmit}>\n        {success ? (\n          <div className=\"success-message\">\n            <p>Voc receber um email com instrues para redefinir a sua senha.</p>\n            <p><i>Caso no receba na sua caixa de entrada, no esquea de verificar tambm a sua caixa de <b>SPAM</b>.</i></p>\n          </div>\n        ) : (\n          <div className=\"form-field\">\n            <label htmlFor=\"email\">Insira abaixo o email utilizado na sua conta:</label>\n            <input type=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\n          </div>\n        )}\n\n        {!success &&\n          <button type=\"submit\" disabled={sending} className=\"button\">\n            {sending ? 'enviando...' : 'enviar'}\n          </button>\n        }\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPassword;\n","import React, { useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nimport auth from '../../services/auth';\nimport globalNotifications from '../../services/globalNotifications';\nimport { clearErrors, setupErrorMessages } from '../../helpers/handleFormFieldsError';\n\nimport './styles.css';\n\nfunction ResetPassword() {\n  const { token } = useParams();\n\n  const [ password, setPassword ] = useState('');\n  const [ passwordConfirmation, setPasswordConfirmation ] = useState('');\n  const [ expired, setExpired ] = useState(false);\n  const [ success, setSuccess ] = useState(false);\n  const [ sending, setSending ] = useState(false);\n\n  async function handleSubmit(e) {\n    if (sending) return;\n\n    clearErrors();\n\n    e.preventDefault();\n    setSending(true);\n\n    const data = {\n      token,\n      password,\n      password_confirmation: passwordConfirmation,\n    }\n    const response = await auth.resetPassword(data);\n\n    if (response.error) {\n      // Fields validation error\n      if (response.errors) {\n        setupErrorMessages(response.errors);\n      } else {\n        // Token expired\n        if (response.error === 'Token Expired') {\n          setExpired(true);\n          globalNotifications.sendErrorMessage('A sua requisio expirou')\n        } else {\n          globalNotifications.sendErrorMessage('Infelizmente no foi possvel enviar a sua solicitao');\n          console.log(response.error);\n        }\n      }\n    } else {\n      globalNotifications.sendSuccessMessage('Senha alterada com sucesso');\n      setSuccess(true);\n    }\n\n    setSending(false);\n  }\n\n  return (\n    <div className=\"ResetPassword\">\n      <h1 className=\"page-title\">Redefinir a Senha</h1>\n\n      {expired &&\n        <div className=\"expired\">\n          <p>Sua solicitao de recuperao de senha expirou.</p>\n          <p><Link to=\"/esqueci-minha-senha\">Clique aqui</Link> para solicitar uma nova</p>\n        </div>\n      }\n      {success &&\n        <div className=\"success-message\">\n          <p>Senha alterada com sucesso.</p>\n          <p><Link to=\"/login\">Clique aqui para fazer login</Link></p>\n        </div>\n      }\n\n      {(!expired && !success) &&\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-field\">\n            <label htmlFor=\"password\">Nova Senha:</label>\n            <input id=\"password\" type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"passwordConfirmation\">Digite novamente:</label>\n            <input id=\"password_confirmation\" type=\"password\" name=\"passwordConfirmation\" value={passwordConfirmation} onChange={e => setPasswordConfirmation(e.target.value)} />\n          </div>\n\n          <button type=\"submit\" className=\"button\" disabled={sending}>\n            {sending ? 'enviando...' : 'enviar'}\n          </button>\n        </form>\n      }\n    </div>\n  )\n}\n\nexport default ResetPassword;\n","import React, { useState } from 'react';\nimport { auth } from '../../services';\nimport { withRouter, Link } from 'react-router-dom';\n\nimport './styles.css';\nimport globalNotifications from '../../services/globalNotifications';\n\nfunction Login({ history, location }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // redirect to home if already logged in\n  if (auth.currentUserValue) {\n    history.push('/')\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    globalNotifications.clearMessages();\n\n    try {\n      await auth.login({ email, password });\n\n      const { from } = location.state || { from: { pathname: '/' } };\n      history.push(from);\n    } catch(e) {\n      if (e.response && e.response.status === 401) {\n        globalNotifications.sendErrorMessage('Credenciais invlidas');\n      } else {\n        console.error(e.message);\n        globalNotifications.sendErrorMessage('No foi possvel autenticar o usurio, por favor, tente novamente mais tarde');\n      }\n    }\n  }\n\n  return (\n    <div className=\"BoxLogin\">\n      <div className=\"Login\">\n        <div className=\"login-box\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"field\">\n              <label htmlFor=\"email\"></label>\n              <input id=\"email\" type=\"text\" onChange={e => setEmail(e.target.value)} value={email} placeholder=\"Email\" />\n            </div>\n            <div className=\"field\">\n              <input id=\"password\" type=\"password\" onChange={e => setPassword(e.target.value)} placeholder=\"Senha\" />\n            </div>\n            <div className=\"field\">\n              <button type=\"submit\">Fazer Login</button>\n            </div>\n          </form>\n\n          <Link to=\"/esqueci-minha-senha\" className=\"lost-password\">esqueceu a senha?</Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Login);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Slider from 'react-slick';\n\nimport ImgProtected from '../ImgProtected';\nimport { calcDuration, getCoursesCarrossel } from '../../services/courses';\nimport globalNotifications from '../../services/globalNotifications';\nimport { auth } from '../../services';\n\nimport '../slick/slick.css';\nimport '../slick/slick-theme.css';\nimport './styles.css';\n\nfunction CoursesCarrossel() {\n  const [ courses, setCourses] = useState([]);\n\n  const sliderSettings = {\n    dots: false,\n    arrows: true,\n    infinite: true,\n    slidesToShow: 3,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 768,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        dots: false\n      }\n    }]\n    \n  };\n\n  useEffect(() => {\n    async function loadCourses() {\n      globalNotifications.clearMessages();\n\n      const courses = await getCoursesCarrossel();\n\n      if (courses.error) {\n        globalNotifications.sendErrorMessage(`No foi posvel carregar o curso. Erro: ${courses.error}`);\n      } else {\n        setCourses(courses);\n      }\n    }\n\n    loadCourses();\n  }, []);\n\n  return (\n    <div className=\"CoursesCarrossel\">\n      <section>\n        {auth.isAdmin() &&\n          <Link to=\"/admin/cursos/novo\" className=\"add-course button center-content\">\n            Adicionar Curso\n            <i className=\"mi\">add_circle_outline</i>\n          </Link>\n        }\n\n        <div className=\"courses-carrossels\">\n          {(courses && courses.inProgress) &&\n            <div className=\"courses-inProgresss\">\n              <h1 className=\"section-title\">Treinamentos em andamento</h1>\n\n              <Slider {...sliderSettings} slidesToShow={Math.min(courses.inProgress.length, 4)} className=\"courses\">\n                {courses.inProgress.map(course => (\n                  <div key={course.id} className={`Course ${course.status}`}>\n                    <div className=\"course-cover\">\n                      {course.cover &&\n                        <ImgProtected file={course.cover} alt={course.name} />\n                      }\n                      {!course.cover &&\n                        <img src=\"/images/default-course-cover.jpg\" alt={course.name} />\n                      }\n                    </div>\n                    <div className=\"course-name\">{course.name}</div>\n\n                    {course.lessons.length > 0 &&\n                      <>\n                        <div className=\"course-lessons\">\n                          <span className=\"key\">Aulas:</span>\n                          <span className=\"value\">{course.lessons.length}</span>\n                        </div>\n                        <div className=\"course-duration\">\n                          <span className=\"key\">Durao:</span>\n                          <span className=\"value\">\n                            {calcDuration(course.lessons)}\n                          </span>\n                        </div>\n                      </>\n                    }\n\n                    {course.teachers.length > 0 &&\n                      <div className=\"course-teacher\">\n                        <span className=\"key\">Professor:</span>\n                        <span className=\"value\">\n                          {course.teachers.map((teacher, i, a) => teacher.name + (i !== a.length-1 ? ', ' : ''))}\n                        </span>\n                      </div>\n                    }\n\n                    <Link to={`cursos/${course.id}`} className=\"course-button\">Ver Curso</Link>\n                  </div>\n                ))}\n              </Slider>\n            </div>\n          }\n\n          {(courses && courses.categories) &&\n            <div className=\"courses-categories\">\n              {courses.categories.map(category => (\n                <div key={category.category.id} className=\"course-category\">\n                  <h1 className=\"section-title\">{category.category.name}</h1>\n\n                  <Slider {...sliderSettings} slidesToShow={Math.min(category.courses.length, sliderSettings.slidesToShow)} className=\"courses\">\n                    {category.courses.map(course => (\n                      <div key={course.id} className={`Course ${course.status}`}>\n                        <div className=\"course-cover\">\n                          {course.cover &&\n                            <ImgProtected file={course.cover} alt={course.name} />\n                          }\n                          {!course.cover &&\n                            <img src=\"/images/default-course-cover.jpg\" alt={course.name} />\n                          }\n                        </div>\n                        <div className=\"course-name\">{course.name}</div>\n\n                        {course.lessons.length > 0 &&\n                          <>\n                            <div className=\"course-lessons\">\n                              <span className=\"key\">Aulas:</span>\n                              <span className=\"value\">{course.lessons.length}</span>\n                            </div>\n                            <div className=\"course-duration\">\n                              <span className=\"key\">Durao:</span>\n                              <span className=\"value\">\n                                {calcDuration(course.lessons)}\n                              </span>\n                            </div>\n                          </>\n                        }\n\n                        {course.teachers.length > 0 &&\n                          <div className=\"course-teacher\">\n                            <span className=\"key\">Professor:</span>\n                            <span className=\"value\">\n                              {course.teachers.map((teacher, i, a) => teacher.name + (i !== a.length-1 ? ', ' : ''))}\n                            </span>\n                          </div>\n                        }\n\n                        <Link to={`cursos/${course.id}`} className=\"course-button\">Ver Curso</Link>\n                      </div>\n                    ))}\n                  </Slider>\n                </div>\n              ))}\n            </div>\n          }\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default CoursesCarrossel;\n","import React from 'react';\n\nimport CoursesCarrossel from '../../components/CoursesCarrossel'\nimport { withRouter } from 'react-router-dom';\n\nfunction Home() {\n  return (\n    <>\n      <CoursesCarrossel />\n    </>\n  )\n}\n\nexport default withRouter(Home);\n","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport YouTube from 'react-youtube';\n\nimport './styles.css';\n\nfunction VideoPlayer({ video, onVideoEnded, onVideoPlaying }) {\n  const [ videoId, setVideoId ] = useState('');\n  const [ videoType, setVideoType ] = useState('');\n  const [ videoTitle, setVideoTitle ] = useState('');\n  // const [ youtubePlayer, setYoutubePlayer ] = useState(null);\n\n  const youtubeOpts = {\n    width: '750',\n    height: '400',\n    playerVars: { // https://developers.google.com/youtube/player_parameters\n      autoplay: 1,\n      rel: 0,\n      showinfo: 0,\n      controls: 2,\n      modestbranding: 1,\n      iv_load_policy: 3,\n    }\n  };\n\n  useEffect(() => {\n    loadVideo();\n  }, [video]);\n\n  async function loadVideo() {\n    if (video) {\n      // Vimeo\n      if (video.indexOf('vimeo.com') >= 0) {\n        try {\n          const response = await axios.get(`https://vimeo.com/api/oembed.json?url=${video}&width=750&height=400&responsive=true`);\n\n          if (response.data && response.data.video_id) {\n            setVideoType('vimeo');\n            setVideoId(response.data.video_id);\n            setVideoTitle(response.data.title);\n          } else {\n            setVideoId(null);\n          }\n        } catch(e) {\n          setVideoId(null);\n        }\n\n      // Youtube\n      } else {\n        if (video.indexOf('youtu.be/') >= 0 || video.indexOf('youtube.com') >= 0) {\n          setVideoType('youtube');\n\n          // https://youtu.be/{videoId}\n          if (video.indexOf('youtu.be/') >= 0) {\n            setVideoId(video.substr(video.lastIndexOf('/') + 1));\n\n          // https://www.youtube.com/watch?v={videoId}\n          // https://www.youtube.com/embed/{videoId}\n          } else {\n            if (video.indexOf('/watch') >= 0) {\n              setVideoId(video.substr(video.lastIndexOf('?v=') + 3));\n            } else if (video.indexOf('/embed/') >= 0 || video.indexOf('/v/') >= 0) {\n              setVideoId(video.substr(video.lastIndexOf('/') + 1));\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function handleVideoReady(event) {\n    if (videoType === 'youtube') {\n      // setYoutubePlayer(event.target);\n      event.target.setVolume(100);\n      event.target.playVideo();\n    }\n  }\n\n  function handlePlayerStateChange(event) {\n    switch (event.data) {\n      case -1:\n        // console.log('Video not started');\n        break;\n      case 0:\n        // console.log('Video ended');\n        onVideoEnded(event);\n        break;\n      case 1:\n        // console.log('Video is playing');\n        onVideoPlaying(event);\n        break;\n      case 2:\n        // console.log('Video is paused');\n        break;\n      case 3:\n        // console.log('Video is storing buffer');\n        break;\n      case 5:\n        // console.log('Video cued');\n        break;\n      default:\n        // console.log(event.data);\n        break;\n    }\n  }\n\n  if (!video) {\n    return (<div id=\"player\" className=\"VideoPlayer\">Vdeo no disponvel</div>);\n  }\n\n  return (\n    <div id=\"player\" className=\"VideoPlayer\">\n      {(videoType === 'youtube' && videoId) &&\n        <YouTube videoId={videoId} opts={youtubeOpts} onReady={handleVideoReady} onStateChange={handlePlayerStateChange} />\n      }\n      {(videoType === 'vimeo' && videoId) &&\n        <iframe src={`https://player.vimeo.com/video/${videoId}`} width=\"750\" height=\"450\" frameBorder=\"0\" title={videoTitle} webkitAllowFullScreen mozAllowFullScreen allowFullScreen />\n      }\n      {videoId === null &&\n        <div className=\"video-error\">Vdeo no disponvel</div>\n      }\n    </div>\n  )\n}\n\nexport default VideoPlayer;\n","import querystring from 'querystring';\nimport { api } from '.';\nimport { handleError } from '../helpers';\n\nexport async function getComments(lessonId, userId) {\n  try {\n    let qsData = {};\n    if (lessonId) qsData.lesson = lessonId;\n    if (userId) qsData.user = userId;\n    const qs = querystring.stringify(qsData);\n    const response = await api.get('/comments' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findComment(id) {\n  try {\n    const response = await api.get(`/comments/${id}`)\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeComment(data) {\n  try {\n    const response = await api.post('/comments', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateComment(id, data) {\n  try {\n    const response = await api.put(`/comments/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteComment(id) {\n  try {\n    const response = await api.delete(`/comments/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getComments,\n  findComment,\n  storeComment,\n  updateComment,\n  deleteComment,\n}\n","import React, { useState } from 'react';\n\nimport auth from '../../services/auth';\nimport { globalNotifications } from '../../services';\nimport { storeComment } from '../../services/comments';\n\nimport './styles.css';\n\nfunction CommentsForm({ lesson, parent, refreshComments }) {\n  const [ enabled, setEnabled ] = useState(true);\n  const [ content, setContent ] = useState('');\n\n  const type = parent ? 'reply' : 'new';\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const data = {\n      content,\n      lesson_id: lesson,\n      parent_id: parent,\n      status: 'approved',\n    }\n\n    const response = await storeComment(data);\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage('No foi possvel gravar os dados');\n    } else {\n      if (auth.isAdmin()) {\n        globalNotifications.sendSuccessMessage('Dados gravados com sucesso');\n        setContent('');\n        refreshComments();\n      } else {\n        globalNotifications.sendErrorMessage('Sua dvida foi enviada, em breve o professor responder');\n      }\n      if (type === 'reply') {\n        setEnabled(false);\n      }\n    }\n  }\n\n  if(!enabled) {\n    return '';\n  }\n\n  return (\n    <form className={(type === 'reply' ? 'comment-reply' : 'comment-new') + ' CommentsForm'} onSubmit={handleSubmit}>\n      <div className=\"form-field\">\n        <div className=\"field\">\n          <textarea\n            className=\"content-field\"\n            value={content}\n            onChange={e => setContent(e.target.value)}\n            placeholder={type === 'reply' ? 'Escreva a sua resposta' : 'Dvidas sobre a aula?'}\n          />\n        </div>\n      </div>\n      <div className=\"form-field submit\">\n        <button className=\"button\" type=\"submit\">enviar {type === 'reply' ? 'resposta' : 'dvida'}</button>\n      </div>\n    </form>\n  )\n}\n\nexport default CommentsForm;\n","import React from 'react';\nimport moment from 'moment';\n\nimport CommentsForm from '../CommentsForm';\nimport ImgProtected from '../ImgProtected';\n\nimport './styles.css';\n\nfunction CommentsList(props) {\n  const { comments, enabledReplyForm, setEnabledReplyForm, lesson, loadComments } = props;\n\n  return (\n    <div className=\"CommentsList\">\n      {comments.map(comment => (\n        <div key={comment.id} id={`comment-${comment.id}`} className=\"comment\">\n          <div className=\"comment-body\">\n            <div className=\"comment-body-inner\">\n              <div className=\"comment-user-photo\">\n                <ImgProtected file={comment.user.photo} />\n              </div>\n\n              <div className=\"comment-data\">\n                <div className=\"comment-user\">{comment.user.name}</div>\n                <div className=\"comment-content\">{comment.content}</div>\n              </div>\n            </div>\n\n            <div className=\"comment-date button\">{moment(comment.created_at).format('DD/MM/YYYY')}</div>\n            <div className=\"comment-reply-button button\" onClick={e => setEnabledReplyForm(comment.id)}>Responder &rsaquo;</div>\n          </div>\n\n          {enabledReplyForm === comment.id &&\n            <CommentsForm refreshComments={loadComments} lesson={lesson} parent={comment.id} />\n          }\n\n          {comment.children && comment.children.length > 0 &&\n            <div className=\"comment-children\">\n              <div className=\"mi\">reply</div>\n              <CommentsList {...props} comments={comment.children} />\n            </div>\n          }\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default CommentsList;\n","import React, { useState, useEffect } from 'react';\n\nimport { globalNotifications } from '../../services';\nimport { getComments } from '../../services/comments';\nimport CommentsForm from '../CommentsForm';\nimport CommentsList from '../CommentsList';\nimport { withRouter } from 'react-router-dom';\n\nfunction LessonComments({ lesson, location }) {\n  const [ enabledReplyForm, setEnabledReplyForm ] = useState([]);\n  const [ comments, setComments ] = useState([]);\n  const [ loading, setLoading ] = useState(false);\n\n  useEffect(() => {\n    if (lesson.comments && lesson.comments.length) {\n      setComments(lesson.comments)\n    } else {\n      loadComments();\n    }\n  }, [lesson])\n\n  async function loadComments() {\n    setLoading(true);\n\n    if (!lesson.id) {\n      setComments([]);\n      return;\n    }\n\n    const response = await getComments(lesson.id);\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage('No foi possvel carregar as dvidas');\n    } else {\n      const data = response.map(parent => {\n        response\n          .filter(e => e.parent_id > 0)\n          .map(comment => {\n            if (comment.parent_id === parent.id) {\n              if (!parent.children) parent.children = [comment]\n              else parent.children.push(comment)\n            }\n          })\n\n        return parent;\n      }).filter(e => !e.parent_id)\n\n      setComments(data);\n\n      if (location.hash) {\n        const elm = document.getElementById(location.hash.substr(1));\n        if (elm) {\n          window.scrollTo(0, elm.offsetTop);\n        }\n      }\n    }\n\n    setLoading(false);\n  }\n\n  if (loading) {\n    return (<div className=\"loading comments-loading\">Carregando perguntas...</div>);\n  }\n\n  return (\n    <div className=\"LessonComments\">\n      <CommentsForm refreshComments={loadComments} lesson={lesson.id} />\n\n      {comments.length > 0 &&\n        <CommentsList\n          comments={comments}\n          enabledReplyForm={enabledReplyForm}\n          setEnabledReplyForm={setEnabledReplyForm}\n          lesson={lesson.id}\n          loadComments={loadComments}\n        />\n      }\n    </div>\n  )\n}\n\nexport default withRouter(LessonComments);\n","import React, { useState, useEffect } from 'react';\n\nimport './styles.css';\n\nfunction ProgressBar({ className, progress }) {\n  const classNameAttr = `${(className !== undefined ? className + ' ' : '')}progress-bar`;\n\n  const [ currentProgress, setCurrentProgress ] = useState(0);\n\n  useEffect(() => {\n    setCurrentProgress(parseInt(progress) || 0);\n  }, [progress]);\n\n  return (\n    <div className={classNameAttr}>\n      <div className=\"progress\" style={{ width: currentProgress + '%', textIndent: currentProgress < 10 ? '0.5em' : 0 }}>\n        {currentProgress}%\n      </div>\n    </div>\n  );\n}\n\nexport default ProgressBar;\n","import querystring from 'querystring';\n\nimport { api } from '../services';\nimport { handleError } from '../helpers';\n\nexport async function getAttachments(attachmentableType, attachmentableId) {\n  try {\n    let qsData = {};\n    if (attachmentableType) qsData.ptype = attachmentableType;\n    if (attachmentableId) qsData.pid = attachmentableId;\n    let qs = querystring.stringify(qsData);\n    const response = await api.get('/attachments/' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findAttachment(id) {\n  try {\n    const response = await api.get(`/attachments/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeAttachment(data) {\n  try {\n    const response = await api.post('/attachments', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteAttachment(id) {\n  try {\n    const response = await api.delete(`/attachments/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getAttachments,\n  findAttachment,\n  deleteAttachment,\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { getAttachments } from '../../services/attachments';\nimport { globalNotifications } from '../../services';\nimport { download } from '../../services/uploads';\n\nimport './styles.css';\n\nfunction AttachmentsList({ attachmentable, type, handleRemoveFile }) {\n  const [ attachments, setAttachments ] = useState([]);\n  const [ loading, setLoading ] = useState(false);\n  const [ downloading, setDownloading ] = useState([]);\n\n  useEffect(() => {\n    if (attachmentable.attachments) {\n      setAttachments(attachmentable.attachments)\n    } else {\n      loadAttachments();\n    }\n  }, [attachmentable])\n\n  async function loadAttachments() {\n    setLoading(true);\n\n    const response = await getAttachments(type, attachmentable.id);\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage('No foi possvel carregar os anexos');\n      console.error(response.error);\n    } else {\n      setAttachments(response);\n    }\n\n    setLoading(false);\n  }\n\n  async function handleDownload(attachment) {\n    setDownloading([...downloading, attachment.id]);\n\n    // generate url from blob downloaded from backend\n    const url = await download(attachment.url, true);\n\n    // create 'a' element\n    const a = document.createElement('a');\n    // set as invisible\n    a.style.display = 'none';\n    // Set url\n    a.href = url;\n    // and attr to force download\n    a.setAttribute('download', attachment.url.substr(attachment.url.lastIndexOf('/') + 1));\n    // append it to body\n    document.body.appendChild(a);\n\n    // and finnaly click then\n    a.click();\n\n    // cleanup\n    URL.revokeObjectURL(url);\n    document.body.removeChild(a);\n    setDownloading(downloading.filter(v => v !== attachment.id));\n  }\n\n  if (loading) {\n    return 'Carregando anexos...';\n  }\n\n  if (!attachments || attachments.length <= 0) {\n    return 'Esta aula no possui anexos';\n  }\n\n  return (\n    <div className=\"AttachmentsList\">\n      {attachments.map(attachment => (\n        <div key={attachment.id} className=\"attachment\">\n          <i className=\"attachment-icon mi\">attachment</i>\n          <div className=\"attachment-name\" onClick={() => handleDownload(attachment)}>\n            {attachment.url.substr(attachment.url.lastIndexOf('/') + 1)}\n          </div>\n          {handleRemoveFile &&\n            <i className=\"attachment-remove-icon mi\" onClick={() => handleRemoveFile(attachment.id)}>delete</i>\n          }\n          {downloading.some(v => v === attachment.id) &&\n            <img src=\"/images/loader.gif\" className=\"loading\" alt=\"carregando\" width=\"28\" height=\"28\" />\n          }\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default AttachmentsList;\n","import querystring from 'querystring';\nimport { api } from '.';\nimport { handleError } from '../helpers';\n\nexport async function getLessons(moduleId) {\n  try {\n    const qs = querystring.stringify({ module: moduleId || '' });\n    const response = await api.get('/lessons' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findLesson(id) {\n  try {\n    const response = await api.get(`/lessons/${id}`)\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeLesson(data) {\n  try {\n    const response = await api.post('/lessons', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateLesson(id, data) {\n  try {\n    const response = await api.put(`/lessons/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteLesson(id) {\n  try {\n    const response = await api.delete(`/lessons/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeLessonAction(id, action) {\n  try {\n    const response = await api.post(`/lessons/${id}/action`, { action });\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getLessons,\n  findLesson,\n  storeLesson,\n  updateLesson,\n  deleteLesson,\n}\n","import React, { useState, useEffect } from 'react';\nimport { useParams, Link, withRouter } from 'react-router-dom';\n\nimport globalNotifications from '../../../services/globalNotifications';\nimport auth from '../../../services/auth';\nimport { findCourse } from '../../../services/courses';\nimport VideoPlayer from '../../../components/VideoPlayer';\nimport LessonComments from '../../../components/LessonComments';\nimport ProgressBar from '../../../components/ProgressBar';\n\nimport AttachmentsList from '../../../components/AttachmentsList';\nimport PageNotFound from '../../PageNotFound';\nimport { storeLessonAction } from '../../../services/lessons';\n\nimport './styles.css';\n\nfunction CoursesShow({ history, location }) {\n  const { id, lessonId } = useParams();\n\n  const [ loading, setLoading ] = useState([]);\n  const [ activeModules, setActiveModules ] = useState([]);\n  const [ course, setCourse ] = useState({});\n  const [ modules, setModules ] = useState([]);\n  const [ lesson, setLesson ] = useState({});\n  const [ video, setVideo ] = useState('');\n\n  // Course or Location changed\n  useEffect(() => {\n    setLoading(true);\n    loadCourse();\n  }, [id, location]);\n\n  // Lesson changed\n  useEffect(() => {\n    (async () => await storeLessonAction(lesson.id, 'open'))();\n\n    if (lesson.video === video) {\n      setVideo('');\n    }\n\n    setVideo(lesson.video);\n  }, [lesson])\n\n  async function loadCourse() {\n    globalNotifications.clearMessages();\n\n    const course = await findCourse(id, true);\n\n    if (course.error) {\n      if (course.response && course.response.status === 404) {\n        globalNotifications.sendErrorMessage(course.error);\n        setCourse(null);\n      } else {\n        const errorDetails = course.error.message ? ` Erro: ${course.error.message}` : '';\n        globalNotifications.sendErrorMessage(`No foi posvel carregar o curso.${errorDetails}`);\n        setCourse(false);\n      }\n    } else {\n      setCourse(course);\n\n      // If not has anyone module\n      if (!course.modules || !course.modules.length) {\n        setModules([]);\n      } else {\n\n        // find lesson passed on URL\n        const formatedModules = course.modules.map(m => {\n          if (!m.lessons.length) return m;\n\n          m.lessons = m.lessons.map(l => {\n            // Set the current progress of every lesson\n            if (l.history && l.history.length) {\n              const actions = l.history.reduce((p, c) => {\n                p && p.push(c.action);\n                return p;\n              }, []);\n\n              if (actions.indexOf('done') >= 0) l.progress = 'done';\n              else if (actions.indexOf('start') >= 0) l.progress = 'start';\n              else if (actions.indexOf('open') >= 0) l.progress = 'open';\n              else l.progress = 'nothing';\n            }\n\n            // Set active Lesson based on URL\n            if (lessonId) {\n              if (l.id === parseInt(lessonId)) {\n                setLesson(l);\n                setActiveModules([m.id]);\n              }\n            }\n\n            return l;\n          });\n\n          return m;\n        });\n\n        // if not passed a lesson on URL\n        if (!lessonId) {\n          // move to the next that was not finished\n          moveToNextLesson(formatedModules);\n          return;\n        }\n\n        setModules(formatedModules);\n      }\n    }\n\n    setLoading(false);\n  }\n\n  function isModuleActive(id) {\n    return (activeModules.length && activeModules.indexOf(id) >= 0) ? true : false;\n  }\n\n  function toggleActiveModule(id) {\n    if (isModuleActive(id)) {\n      setActiveModules(activeModules.filter(e => e !== id));\n    } else {\n      setActiveModules([...activeModules, id]);\n    }\n  }\n\n  function changeActiveLesson(lesson) {\n    history.push(`/cursos/${id}/aula/${lesson.id}`);\n    setLesson(lesson);\n    setActiveModules([lesson.module_id]);\n  }\n\n  async function handleVideoPlaying(event) {\n    await storeLessonAction(lesson.id, 'start');\n  }\n\n  async function handleVideoEnded(event) {\n    const response = await storeLessonAction(lesson.id, 'done');\n\n    if (response.error) {\n      console.error(response.error);\n    } else {\n      globalNotifications.sendSuccessMessage('Parabns, voc concluiu mais uma aula!');\n\n      // move to next lesson if has or refresh course to update the progress\n      moveToNextLesson(modules, lesson) || loadCourse();\n    }\n  }\n\n  function moveToNextLesson(modules, current) {\n    if (modules && modules.length) {\n      let currentIndex;\n\n      for (let m of modules) {\n        if (!m.lessons || !m.lessons.length) continue;\n\n        for (let i in m.lessons) {\n          if (currentIndex) {\n            changeActiveLesson(m.lessons[i]);\n            return m.lessons[i];\n          }\n\n          // if has set current lesson, get the next one\n          if (current) {\n            if (m.lessons[i].id === current.id) {\n              currentIndex = i;\n            }\n\n          // if not, get the next that was not finished yeat\n          } else {\n            if (m.lessons[i].progress !== 'done') {\n              changeActiveLesson(m.lessons[i]);\n              return m.lessons[i];\n            }\n          }\n        }\n      }\n\n      // if not has set current lesson yeat means that current is the last one\n      // ...or not passed lesson id on URL\n      if (!current) {\n        // then change to the first one\n        if (modules[0].lessons && modules[0].lessons.length) {\n          changeActiveLesson(modules[0].lessons[0]);\n          return modules[0].lessons[0];\n        }\n      }\n    }\n\n    // not has next lesson or modules are empty\n    return null;\n  }\n\n  if (course === null) {\n    return (\n      <PageNotFound />\n    )\n  }\n\n  if (course === false) {\n    return (\n      <div className=\"error\">Ocorreu um erro ao carregar o curso</div>\n    )\n  }\n\n  return (\n    <div className=\"CourseShow\">\n      {loading ? (\n        <h1 className=\"page-title\">Carregando...</h1>\n      ) : (\n        <>\n          <h1 className=\"page-title\">{course.name}</h1>\n\n          {auth.isAdmin() &&\n            <Link className=\"course edit button center-content\" to={`/admin/cursos/${course.id}/editar`}>\n              Editar\n              <i className=\"mi\">edit</i>\n            </Link>\n          }\n\n          <div className=\"course-container\">\n            <div className=\"lesson-content\">\n              {lesson === false && 'Aula no encontrada'}\n              {(!lesson.id || modules.length === 0) ? (lesson === false ? '' : 'Nenhum modulo cadastrado') :\n                <>\n                  <VideoPlayer video={video} onVideoEnded={handleVideoEnded} onVideoPlaying={handleVideoPlaying} />\n\n                  <div className=\"lesson-attachments\">\n                    <span className=\"lesson-attachments-label\">Anexos: </span>\n                    <AttachmentsList attachmentable={lesson} type=\"lessons\" />\n                  </div>\n\n                  <LessonComments lesson={lesson} />\n                </>\n              }\n            </div>\n            <div className=\"course-lessons\">\n              {modules.length > 0 &&\n                <>\n                  <ProgressBar progress={course.progress || 0} />\n                  <ul>\n                    {modules.map((m, i) => (\n                      <li key={m.id} className=\"module\">\n                        <div className=\"module-name-wraper name-wraper\" onClick={e => toggleActiveModule(m.id)}>\n                          <span className=\"module-number number\">{i+1}</span>\n                          <span className=\"module-name name\">{m.name}</span>\n                          <i className=\"mi toggle\">\n                            {isModuleActive(m.id) ? 'arrow_drop_up' : 'arrow_drop_down'}\n                          </i>\n                        </div>\n\n                        {m.lessons.length > 0 &&\n                          <ul className={`module-lessons${isModuleActive(m.id) ? ' active' : ''}`}>\n                            {m.lessons.map((value, i) => (\n                              <li key={value.id} className={`lesson name-wraper${value === lesson ? ' active' : ''}${value.progress === 'done' ? ' finished' : ''}`}>\n                                <span className=\"lesson-number number\">{i+1}</span>\n                                <button className=\"lesson-name name\" onClick={e => changeActiveLesson(value)} href=\"#\">{value.name}</button>\n                                <span className=\"lesson-view-status\">\n                                  <i className=\"mi\">{value.progress === 'done' ? 'done' : 'clear'}</i>\n                                </span>\n                              </li>\n                            ))}\n                          </ul>\n                        }\n                      </li>\n                    ))}\n                  </ul>\n                </>\n              }\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default withRouter(CoursesShow);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ImgProtected from '../ImgProtected';\nimport { getCourses, deleteCourse, calcDuration } from '../../services/courses';\nimport { auth, globalNotifications } from '../../services';\n\nimport './styles.css';\n\nfunction CoursesList() {\n  const [ courses, setCourses ] = useState([]);\n  const [ searchTerm, setSearchTerm ] = useState('');\n\n  useEffect(() => {\n    loadCourses();\n  }, []);\n\n  useEffect(() => {\n    loadCourses();\n  }, [searchTerm]);\n\n  async function loadCourses() {\n    globalNotifications.clearMessages();\n\n    const response = await getCourses(searchTerm);\n\n    if (response.errors) {\n      globalNotifications.sendErrorMessage(response.error);\n      setCourses([]);\n    } else {\n      setCourses(response);\n    }\n  }\n\n  async function handleDestroyCourse(course) {\n    if (window.confirm('Tem certeza que deseja excluir este curso?')) {\n      const response = await deleteCourse(course.id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel excluir o curso');\n      } else {\n        globalNotifications.sendSuccessMessage('Aluno excluido com sucesso');\n        loadCourses();\n      }\n    }\n  }\n\n  return (\n    <div className=\"CoursesList\">\n      <h1 className=\"page-title\">Cursos</h1>\n\n      {auth.isAdmin() &&\n        <>\n          <div className=\"search-form\">\n            <input className=\"search-input\" onChange={e => setSearchTerm(e.target.value)} value={searchTerm} type=\"search\" placeholder=\"Buscar nome do curso\" />\n          </div>\n\n          <Link to=\"/admin/cursos/novo\" className=\"add-course button center-content\">\n            Adicionar Curso\n            <i className=\"mi\">add_circle_outline</i>\n          </Link>\n        </>\n      }\n\n      <div className=\"courses\">\n        {courses.map(course => (\n          <div key={course.id} className={`Course ${course.status}`}>\n            <div className=\"course-cover\">\n              <Link to={`/cursos/${course.id}`}>\n                {course.cover &&\n                  <ImgProtected file={course.cover} alt={course.name} />\n                }\n                {!course.cover &&\n                  <img src=\"/images/default-course-cover.jpg\" alt={course.name} />\n                }\n              </Link>\n            </div>\n            <div className=\"course-details\">\n              <Link to={`/cursos/${course.id}`}>\n                <h2 className=\"course-name\">{course.name}</h2>\n\n                <div className=\"course-status\">\n                  <span className=\"key\">Status: </span>\n                  <span className=\"value\">{course.status === 'draft' ? 'rascunho' : 'publicado'}</span>\n                </div>\n\n                {(course.lessons && course.lessons.length) > 0 &&\n                  <>\n                    <div className=\"course-lessons\">\n                      <span className=\"key\">Aulas:</span>\n                      <span className=\"value\">{course.lessons.length}</span>\n                    </div>\n                    <div className=\"course-duration\">\n                      <span className=\"key\">Durao:</span>\n                      <span className=\"value\">\n                        {calcDuration(course.lessons)}\n                      </span>\n                    </div>\n                  </>\n                }\n\n                {(course.teachers && course.teachers.length) > 0 &&\n                  <div className=\"course-teacher\">\n                    <span className=\"key\">Professor:</span>\n                    <span className=\"value\">\n                      {course.teachers.map((teacher, i, a) => teacher.name + (i !== a.length-1 ? ', ' : ''))}\n                    </span>\n                  </div>\n                }\n              </Link>\n            </div>\n            {auth.isAdmin() &&\n              <div className=\"course-actions\">\n                <div className=\"button-group\">\n                  <Link to={`/admin/cursos/${course.id}/editar`} className=\"edit-course edit button small mi\">\n                    edit\n                  </Link>\n                  <button className=\"remove-course remove button small mi\" onClick={e => handleDestroyCourse(course)}>\n                    delete\n                  </button>\n                </div>\n              </div>\n            }\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default CoursesList;\n","import React, { useState, useEffect } from 'react';\nimport Dropzone from 'react-dropzone';\nimport { withRouter } from 'react-router-dom';\nimport Select from 'react-select';\n\nimport { storeCourse, updateCourse } from '../../../../services/courses';\nimport { globalNotifications } from '../../../../services';\nimport { getSchools } from '../../../../services/schools';\nimport { getCategories } from '../../../../services/categories';\nimport { getUsers } from '../../../../services/users';\nimport ImgProtected from '../../../../components/ImgProtected';\n\nimport './styles.css';\n\nfunction CoursesForm({ history, type, course, onCourseChange }) {\n  const [ name, setName ] = useState('');\n  const [ description, setDescription ] = useState('');\n  const [ cover, setCover ] = useState(null);\n  const [ schools, setSchools ] = useState('');\n  const [ categories, setCategories ] = useState([]);\n  const [ teachers, setTeachers ] = useState([]);\n  const [ status, setStatus ] = useState('');\n  const [ removeCover, setRemoveCover ] = useState(false);\n  const [ tempCover, setTempCover ] = useState(null);\n\n  const [ schoolsList, setSchoolsList ] = useState([]);\n  const [ categoriesList, setCategoriesList ] = useState([]);\n  const [ teachersList, setTeachersList ] = useState([]);\n\n  useEffect(() => {\n    async function loadSchools() {\n      const response = await getSchools();\n      if (response.error) {\n        const err = response.error.message || 'Ocorreu um error ao carregar as lojas';\n        globalNotifications.sendErrorMessage(err);\n      } else {\n        const schools = response.map(school => ({ value: school.id, label: school.name }))\n        setSchoolsList(schools);\n      }\n    }\n    async function loadCategories() {\n      const response = await getCategories();\n      if (response.error) {\n        const err = response.error.message || 'Ocorreu um error ao carregar as categorias';\n        globalNotifications.sendErrorMessage(err);\n      } else {\n        const categories = response.map(category => ({ value: category.id, label: category.name }))\n        setCategoriesList(categories);\n      }\n    }\n    async function loadTeachers() {\n      const response = await getUsers();\n      if (response.error) {\n        const err = response.error.message || 'Ocorreu um error ao carregar os professores';\n        globalNotifications.sendErrorMessage(err);\n      } else {\n        const teachers = response.map(teacher => ({ value: teacher.id, label: teacher.name }))\n        setTeachersList(teachers);\n      }\n    }\n\n    loadSchools();\n    loadCategories();\n    loadTeachers();\n  }, []);\n\n  useEffect(() => {\n    if (type === 'update' && course) {\n      setName(course.name);\n      setDescription(course.description);\n      setStatus(course.status);\n      course.schools && setSchools(course.schools.map(i => { return { value: i.id, label: i.name } }));\n      course.categories && setCategories(course.categories.map(i => { return { value: i.id, label: i.name } }));\n      course.teachers && setTeachers(course.teachers.map(i => { return { value: i.id, label: i.name } }));\n    }\n  }, [course, type]);\n\n  useEffect(() => {\n    async function updateRemoveCover() {\n      if (!removeCover) return;\n\n      const response = await updateCourse(course.id, { remove_cover: true });\n\n      if (response.error) {\n        const err = response.error.message || 'Ocorreu um erro ao remover a imagem';\n        globalNotifications.sendErrorMessage(err);\n      } else {\n        globalNotifications.sendSuccessMessage('Imagem removida com sucesso');\n        setCover('');\n      }\n    }\n\n    if (type === 'update' && course) {\n      updateRemoveCover();\n    }\n  }, [removeCover]);\n\n  async function handleSubmit(e) {\n    if (e) {\n      e.preventDefault();\n    }\n    globalNotifications.clearMessages();\n\n    const data = new FormData();\n\n    if (type === 'update') {\n      if (name !== course.name)\n        data.append('name', name);\n      if (description !== course.description)\n        data.append('description', description);\n      if (schools !== course.schools)\n        data.append('schools[]', [formatMultiSelectValue(schools)]);\n      if (categories !== course.categories)\n        data.append('categories[]', [formatMultiSelectValue(categories)]);\n      if (teachers !== course.teachers)\n        data.append('teachers[]', [formatMultiSelectValue(teachers)]);\n      if (status !== course.status)\n        data.append('status', status);\n      if (removeCover)\n        data.append('remove_cover', true);\n    } else {\n      data.append('name', name);\n      data.append('description', description);\n      data.append('schools[]', formatMultiSelectValue(schools));\n      data.append('categories[]', formatMultiSelectValue(categories));\n      data.append('teachers[]', formatMultiSelectValue(teachers));\n      data.append('status', 'draft');\n    }\n\n    if (cover) {\n      data.append('cover', cover);\n    }\n\n    const response = (type === 'update') ?\n                      await updateCourse(course.id, data) :\n                      await storeCourse(data);\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao gravar os dados';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      if (type !== 'update') {\n        history.push(`/admin/cursos/${response.id}/editar`);\n      } else {\n        onCourseChange(response);\n        setCover(response.cover);\n        setTempCover(null);\n\n        globalNotifications.sendSuccessMessage('Dados gravados com sucesso');\n      }\n    }\n  }\n\n  function handleFileDrop(acceptedFiles) {\n    if (acceptedFiles.length) {\n      var reader = new FileReader();\n      reader.onload = (e) => {\n        setTempCover(e.target.result);\n      };\n      reader.readAsDataURL(acceptedFiles[0]);\n\n      setCover(acceptedFiles[0]);\n    }\n  }\n\n  async function handleRemoveCover() {\n    if (type === 'update') {\n      onCourseChange({ ...course, cover: null });\n    }\n    setTempCover(null);\n    setRemoveCover(true);\n  }\n\n  function formatMultiSelectValue(selected) {\n    return selected.reduce((accumulator, current) => {\n      accumulator.push(current.value);\n      return accumulator;\n    }, []);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"model-form\">\n      <div className=\"form-field\">\n        <label htmlFor=\"name\">Nome:</label>\n        <div className=\"field\">\n          <input id=\"name\" value={name} onChange={e => setName(e.target.value)} />\n        </div>\n      </div>\n      <div className=\"form-field\">\n        <label htmlFor=\"description\">Descrio:</label>\n        <div className=\"field\">\n          <textarea id=\"description\" value={description} onChange={e => setDescription(e.target.value)} />\n        </div>\n      </div>\n      <div className=\"form-field\">\n        <label>Imagem de Capa:</label>\n        {((course && course.cover) || tempCover) &&\n          <div className=\"current-cover field\">\n            {(!tempCover && course.cover) &&\n              <ImgProtected file={course.cover} />\n            }\n            {(tempCover && !course.cover) &&\n              <img src={tempCover} alt=\"\" />\n            }\n            <br />\n            <div className=\"button\" onClick={handleRemoveCover}>Remover imagem</div>\n          </div>\n        }\n\n        {(!(course && course.cover) && !tempCover) &&\n          <div className=\"cover-field upload-field field\">\n            <Dropzone onDrop={handleFileDrop}>\n              {({getRootProps, getInputProps}) => (\n                <section>\n                  <div {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    <p>Arraste e solte um arquivo aqui, ou clique pare selecionar</p>\n                  </div>\n                </section>\n              )}\n            </Dropzone>\n          </div>\n        }\n      </div>\n      <div className=\"form-field\">\n        <label htmlFor=\"schools\">Loja(s):</label>\n        <div className=\"field\">\n          <Select\n            name=\"schools\"\n            value={schools}\n            onChange={value => setSchools(value)}\n            options={schoolsList}\n            isMulti={true}\n            isSearchable={true}\n            />\n        </div>\n      </div>\n      <div className=\"form-field\">\n        <label htmlFor=\"categories\">Categoria(s):</label>\n        <div className=\"field\">\n          <Select\n            name=\"categories\"\n            value={categories}\n            onChange={value => setCategories(value)}\n            options={categoriesList}\n            isMulti={true}\n            isSearchable={true}\n            />\n        </div>\n      </div>\n      <div className=\"form-field\">\n        <label htmlFor=\"teachers\">Professor(es):</label>\n        <div className=\"field\">\n          <Select\n            name=\"teachers\"\n            value={teachers}\n            onChange={value => setTeachers(value)}\n            options={teachersList}\n            isMulti={true}\n            isSearchable={true}\n            />\n        </div>\n      </div>\n\n      {type === 'update' &&\n        <div className=\"form-field\">\n          <label htmlFor=\"status\">Status:</label>\n          <div className=\"field\">\n            <select id=\"status\" value={status} onChange={e => setStatus(e.target.value)}>\n              <option value=\"draft\">Rascunho</option>\n              <option value=\"published\">Publicado</option>\n            </select>\n          </div>\n        </div>\n      }\n\n      <div className=\"form-field submit\">\n        <button type=\"submit\">Gravar</button>\n      </div>\n    </form>\n  );\n}\n\nexport default withRouter(CoursesForm);\n","import React from 'react';\n\nimport CoursesForm from '../CoursesForm';\n\nfunction CoursesSave() {\n  return (\n    <div className=\"CoursesSave\">\n      <h1 className=\"page-title\">Novo Curso</h1>\n\n      <CoursesForm type=\"create\" course={{}} />\n    </div>\n  )\n}\n\nexport default CoursesSave;\n","import querystring from 'querystring';\nimport { api } from '.';\nimport { handleError } from '../helpers';\n\nexport async function getModules(courseId) {\n  try {\n    console.log('modules service : getModules', courseId);\n    let qs = querystring.stringify({ course: courseId || '' });\n    const response = await api.get('/modules' + (qs ? `?${qs}` : ''));\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function findModule(id) {\n  try {\n    const response = await api.get(`/modules/${id}`)\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function storeModule(data) {\n  try {\n    const response = await api.post('/modules', data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function updateModule(id, data) {\n  try {\n    const response = await api.put(`/modules/${id}`, data);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport async function deleteModule(id) {\n  try {\n    const response = await api.delete(`/modules/${id}`);\n\n    return response.data;\n  } catch(e) {\n    return handleError(e);\n  }\n}\n\nexport default {\n  getModules,\n  findModule,\n  storeModule,\n  updateModule,\n  deleteModule,\n}\n","import React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport { storeModule, updateModule, deleteModule } from '../../../../services/modules';\nimport { globalNotifications } from '../../../../services';\n\nimport './styles.css';\n\nfunction ModulesCreate({ course, obj, refreshModules, children }) {\n  const [ moduleObj, setModuleObj ] = useState({});\n  const [ isEditingName, setIsEditingName ] = useState(true);\n  const [ moduleName, setModuleName ] = useState('');\n\n  useEffect(() => {\n    if (obj) {\n      setModuleObj(obj);\n      setModuleName(obj.name);\n      setIsEditingName(false);\n    }\n  }, [obj]);\n\n  async function handleSubmit() {\n    if (!moduleName) {\n      globalNotifications.sendErrorMessage('Por favor, preencha o nome do mdulo');\n      return;\n    }\n\n    const data = {\n      name: moduleName,\n      course_id: course.id,\n    };\n\n    const response = moduleObj.id === undefined ?\n                      await storeModule(data) :\n                      await updateModule(moduleObj.id, data);\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um error ao gravar os dados';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      if (!moduleObj.id) {\n        globalNotifications.sendSuccessMessage('Novo mdulo cadastrado');\n        refreshModules(true);\n        setModuleName('');\n      } else {\n        globalNotifications.sendSuccessMessage('Dados gravados com sucesso');\n        setIsEditingName(false);\n        setModuleObj(response);\n      }\n    }\n  }\n\n  async function handleDestroyModule(moduleObj) {\n    if (window.confirm('Tem certeza que deseja excluir este mdulo inteiro?')) {\n      const response = await deleteModule(moduleObj.id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel excluir o mdulo');\n      } else {\n        globalNotifications.sendSuccessMessage('Mdulo excluido com sucesso');\n        refreshModules();\n      }\n    }\n  }\n\n  return (\n    <div className=\"ModulesCreate\">\n      {(moduleObj && !isEditingName) &&\n        <div className=\"module-content\">\n          <div className=\"module-name\">{moduleObj.name}</div>\n          <div className=\"button-group\">\n            <button className=\"mi small edit\" onClick={e => setIsEditingName(true)}>edit</button>\n            <button className=\"mi small remove\" onClick={e => handleDestroyModule(moduleObj)}>delete</button>\n          </div>\n        </div>\n      }\n      {(isEditingName) &&\n        <div className=\"module-form module-content\">\n          <input type=\"text\" name=\"name\" value={moduleName} onChange={e => setModuleName(e.target.value)} />\n          <button className=\"mi small send\" onClick={handleSubmit}>done</button>\n        </div>\n      }\n\n      {children || ''}\n    </div>\n  );\n}\n\nexport default withRouter(ModulesCreate);\n","import React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Dropzone from 'react-dropzone';\n\nimport AttachmentsList from '../../../../components/AttachmentsList';\nimport { updateLesson, storeLesson, findLesson } from '../../../../services/lessons';\nimport { deleteAttachment, storeAttachment } from '../../../../services/attachments';\nimport { globalNotifications } from '../../../../services';\n\nfunction LessonsCreate({ id, type, moduleObj, refreshModules }) {\n  const [ lesson, setLesson ] = useState({});\n  const [ name, setName ] = useState('');\n  const [ description, setDescription ] = useState('');\n  const [ video, setVideo ] = useState('');\n  const [ status, setStatus ] = useState('draft');\n\n  useEffect(() => {\n    async function loadLesson() {\n      const response = await findLesson(id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel carregar a aula');\n        console.error(response.error);\n      } else {\n        setLesson(response);\n        setName(response.name);\n        setDescription(response.description);\n        setVideo(response.video);\n        setStatus(response.status);\n      }\n    }\n\n    setLesson({});\n    setName('');\n    setDescription('');\n    setVideo('');\n    setStatus('');\n\n    if (id) {\n      loadLesson();\n    }\n  }, [id]);\n\n  useEffect(() => {\n    const top = document.getElementById('LessonsCreate').offsetTop;\n    window.scrollTo(0, top);\n  }, [id, moduleObj]);\n\n  async function handleSubmit(e) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    // Clean error messages\n    const errorsElms = document.querySelectorAll('form .error')\n    if (errorsElms)\n      errorsElms.forEach(elm => elm.classList.remove('error'));\n\n    const data = {\n      module_id: moduleObj.id,\n      name,\n      description,\n      video,\n      status: status || 'draft',\n    };\n\n    const response = type === 'update' ?\n                      await updateLesson(id, data) :\n                      await storeLesson(data);\n\n    if (response.error) {\n      let errorMessage = '';\n      if (response.errors) {\n        errorMessage = 'Alguns campos no foram preenchidos corretamente:<br>';\n        errorMessage += '<ul>';\n        response.errors.map(e => {\n          errorMessage += `<li>${e.detail}</li>`;\n          if (e.source.pointer) {\n            document.getElementById(e.source.pointer).classList.add('error');\n          }\n        });\n        errorMessage += '</ul>';\n      } else {\n        errorMessage = 'No foi possvel gravar os dados da aula';\n      }\n      globalNotifications.sendErrorMessage(errorMessage);\n    } else {\n      if (type === 'update') {\n        setLesson(response);\n      }\n\n      refreshModules(response);\n\n      setLesson(response);\n      setName(response.name);\n      setDescription(response.description || '');\n      setVideo(response.video || '');\n      setStatus(response.status);\n\n      globalNotifications.sendSuccessMessage('Dados gravados com sucesso');\n    }\n  }\n\n  async function handleFileDrop(acceptedFiles) {\n    if (acceptedFiles.length) {\n      var reader = new FileReader();\n\n      const promisses = acceptedFiles.map(async (file) => {\n        reader.readAsDataURL(file)\n\n        const data = new FormData();\n        data.append('file', file);\n        data.append('attachmentable_type', 'lessons');\n        data.append('attachmentable_id', lesson.id);\n\n        const response = await storeAttachment(data);\n\n        if (response.error) {\n          globalNotifications.sendErrorMessage('Ocorreu um erro ao enviar o anexo');\n          console.error(response.error);\n        } else {\n          setLesson({ ...lesson, attachments: [...lesson.attachments, response] });\n          globalNotifications.sendSuccessMessage('Anexo gravado com sucesso');\n        }\n\n        return response;\n      })\n\n      await Promise.all(promisses);\n    }\n  }\n\n  async function handleRemoveFile(id) {\n    const response = await deleteAttachment(id)\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage('No foi possvel remove o anexo');\n      console.log(response.error)\n    } else {\n      setLesson({ ...lesson, attachments: lesson.attachments.filter(v => v.id !== id) });\n      globalNotifications.sendSuccessMessage('Anexo removido');\n    }\n  }\n\n  return (\n    <div id=\"LessonsCreate\" className=\"LessonsCreate\">\n      <hgroup className=\"lesson-form-title\">\n        <h2 className=\"title\">Mdulo: {moduleObj.name}</h2>\n        <h3 className=\"subtitle\">\n          {type === 'update' ? `Editar Aula: ${lesson.name}` : 'Nova Aula'}\n        </h3>\n      </hgroup>\n\n      <form onSubmit={handleSubmit} className=\"model-form lesson-form\">\n        <div className=\"form-field\">\n          <label htmlFor=\"name\">Nome:</label>\n          <div className=\"field\">\n            <input id=\"name\" type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n          </div>\n        </div>\n        <div className=\"form-field\">\n          <label htmlFor=\"description\">Descrio:</label>\n          <div className=\"field\">\n            <textarea id=\"description\" value={description} onChange={e => setDescription(e.target.value)} />\n          </div>\n        </div>\n        <div className=\"form-field\">\n          <label htmlFor=\"video\">Vdeo URL:</label>\n          <div className=\"field\">\n            <input id=\"video\" type=\"text\" value={video} onChange={e => setVideo(e.target.value)} />\n          </div>\n        </div>\n        <div className=\"form-field\">\n          <label htmlFor=\"status\">Status:</label>\n          <div className=\"field\">\n            <select id=\"status\" value={status} onChange={e => setStatus(e.target.value)}>\n              <option value=\"draft\">Rascunho</option>\n              <option value=\"published\">Publicado</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-field\">\n          <label htmlFor=\"attachments\">Anexos:</label>\n\n          <div className=\"field\">\n            {type !== 'update' ? 'Para enviar anexos voc deve primeiro salvar a aula' :\n              <div className=\"attachments\">\n                {(lesson && lesson.id) &&\n                  <AttachmentsList attachmentable={lesson} type=\"lessons\" handleRemoveFile={handleRemoveFile} />\n                }\n                <div className=\"attachment-field upload-field field\">\n                  <Dropzone onDrop={handleFileDrop} multiple={true}>\n                    {({getRootProps, getInputProps}) => (\n                      <section>\n                        <div {...getRootProps()}>\n                          <input {...getInputProps()} />\n                          <p>Arraste e solte um arquivo aqui ou clique para selecionar</p>\n                        </div>\n                      </section>\n                    )}\n                  </Dropzone>\n                </div>\n              </div>\n            }\n          </div>\n        </div>\n\n        <div className=\"form-field submit\">\n          <button type=\"submit\">Gravar</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default withRouter(LessonsCreate);\n","import React, { useState, useEffect } from 'react';\n\nimport { getModules } from '../../../../services/modules';\nimport { globalNotifications } from '../../../../services';\nimport { deleteLesson } from '../../../../services/lessons';\nimport ModulesCreate from '../ModulesCreate';\nimport LessonsCreate from '../LessonsCreate';\n\nimport './styles.css';\n\nfunction ModulesList({ course }) {\n  const [ modules, setModules ] = useState([]);\n  const [ currentModule, setCurrentModule ] = useState({});\n  const [ currentLesson, setCurrentLesson ] = useState({});\n  const [ lessonUpdate, setLessonUpdate ] = useState(false);\n  const [ activeLessonForm, setActiveLessonForm ] = useState(false);\n\n  useEffect(() => {\n    loadModules();\n  }, [course]);\n\n  async function loadModules(focusLesson) {\n    if (course.id) {\n      const response = await getModules(course.id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel carregar os mdulos');\n      } else {\n        setModules(response);\n\n        // Active Lesson Form to add new lesson to pretty new Module\n        if (focusLesson) {\n          if (focusLesson === true) {\n            handleAddLesson(response[response.length-1]);\n          } else {\n            handleEditLesson(currentModule, focusLesson);\n          }\n        }\n      }\n    }\n  }\n\n  function handleAddLesson(moduleObj) {\n    setCurrentModule(moduleObj);\n    setCurrentLesson(null);\n    setLessonUpdate(false);\n    setActiveLessonForm(true);\n  }\n\n  function handleEditLesson(moduleObj, lesson) {\n    setCurrentModule(moduleObj);\n    setCurrentLesson(lesson);\n    setLessonUpdate(true);\n    setActiveLessonForm(true);\n  }\n\n  async function handleDestroyLesson(lesson) {\n    if (window.confirm('Tem certeza que deseja excluir esta aula?')) {\n      const response = await deleteLesson(lesson.id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel excluir a aula');\n      } else {\n        globalNotifications.sendSuccessMessage('Aula excluido com sucesso');\n        loadModules();\n      }\n    }\n  }\n\n  return (\n    <div className=\"ModulesList\">\n      <div className=\"current-lesson\">\n        {activeLessonForm &&\n          <LessonsCreate moduleObj={currentModule} id={currentLesson ? currentLesson.id : null} type={lessonUpdate ? 'update' : 'create'} refreshModules={loadModules} />\n        }\n        {!activeLessonForm &&\n          <div className=\"lesson-select-info\">\n            Use a lista ao lado para editar ou criar uma nova aula\n          </div>\n        }\n      </div>\n      <div className=\"modules-wraper\">\n        <ul className=\"modules\">\n          <li className=\"module new-module\">\n            <div className=\"new-module-title\">Novo mdulo</div>\n            <ModulesCreate course={course} refreshModules={loadModules} />\n          </li>\n          {modules.map(obj => (\n            <li key={obj.id} className=\"module\">\n              <ModulesCreate course={course} obj={obj} refreshModules={loadModules}>\n                {(obj.lessons && obj.lessons.length) > 0 &&\n                  <ul className=\"lessons\">\n                    {obj.lessons.map(lesson => (\n                      <li key={lesson.id} className=\"lesson\">\n                        <span className=\"lesson-name\" onClick={e => handleEditLesson(obj, lesson)}>\n                          {lesson.name}\n                        </span>\n                        <div className=\"button-group\">\n                          <button className=\"mi small edit\" onClick={e => handleEditLesson(obj, lesson)}>edit</button>\n                          <button className=\"mi small remove\" onClick={e => handleDestroyLesson(lesson)}>delete</button>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n                }\n                <div className=\"create-lesson\">\n                  <button onClick={e => handleAddLesson(obj)}>\n                    Adicionar Aula <i className=\"mi\">add_circle_outline</i>\n                  </button>\n                </div>\n              </ModulesCreate>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default ModulesList;\n","import React, { useState, useEffect } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\n\nimport { withRouter, Link, useParams, useLocation } from 'react-router-dom';\nimport { globalNotifications } from '../../../../services';\nimport { findCourse } from '../../../../services/courses';\nimport CoursesForm from '../CoursesForm';\nimport ModulesList from '../ModulesList';\n\nimport './styles.css';\n\nfunction CoursesEdit() {\n  const { id } = useParams();\n  let query = useQuery();\n\n  const [ course, setCourse ] = useState({});\n  const [ selectedIndex, setSelectedIndex ] = useState(0);\n\n  useEffect(() => {\n    async function loadCourse() {\n      const response = await findCourse(id);\n\n      if (response.error) {\n        const err = response.error.message || 'Ocorreu um erro ao buscar os dados do Curso';\n        globalNotifications.sendErrorMessage(err);\n      } else {\n        setCourse(response);\n\n        const tab = query.get('tab');\n        if (tab === 'modulos') {\n          setSelectedIndex(1);\n        }\n      }\n    }\n\n    loadCourse();\n  }, [id]);\n\n  // A custom hook that builds on useLocation to parse\n  // the query string for you.\n  function useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }\n\n  function onCourseChange(state) {\n    if (state !== course) {\n      setCourse(state);\n    }\n  }\n\n  return (\n    <div className=\"CoursesEdit\">\n      <h1 className=\"page-title\">Editar Curso</h1>\n\n      <Link to={`/cursos/${id}`} className=\"show button\">\n        Ver Curso\n      </Link>\n\n      <br />\n\n      {course &&\n        <Tabs selectedIndex={selectedIndex} onSelect={setSelectedIndex}>\n          <TabList>\n            <Tab>Dados Gerais</Tab>\n            <Tab>Mdulos</Tab>\n          </TabList>\n          <TabPanel>\n            <CoursesForm type=\"update\" course={course} onCourseChange={onCourseChange} />\n          </TabPanel>\n          <TabPanel>\n            <ModulesList course={course} />\n          </TabPanel>\n        </Tabs>\n      }\n    </div>\n  )\n}\n\nexport default withRouter(CoursesEdit);\n","const { useLocation } = require(\"react-router-dom\");\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default useQuery;\n","import React, { useState, useEffect } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Select from 'react-select';\nimport moment from 'moment';\n\nimport { getComments, deleteComment } from '../../../../services/comments';\nimport { getUsers } from '../../../../services/users';\nimport { globalNotifications } from '../../../../services';\nimport useQuery from '../../../../helpers/useQuery';\n\nimport './styles.css';\n\nfunction CommentsList({ location }) {\n  const query = useQuery();\n  const [ comments, setComments ] = useState([]);\n  const [ user, setUser ] = useState(null);\n  const [ usersList, setUsersList ] = useState([]);\n\n  useEffect(() => {\n    loadUsers();\n    loadComments(user ? user.value : null);\n  }, []);\n\n  useEffect(() => {\n    loadComments(user ? user.value : null);\n  }, [user]);\n\n  useEffect(() => {\n    setUserFromLocation();\n  }, [usersList]);\n\n  async function loadComments(userId) {\n    globalNotifications.clearMessages();\n\n    const response = await getComments(null, userId);\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage(`Ocorreu um erro ao processar a requisio. Detalhes: ${response.error}`);\n    } else {\n      setComments(response);\n    }\n  }\n\n  async function loadUsers() {\n    globalNotifications.clearMessages();\n\n    const response = await getUsers();\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage(`Ocorreu um erro ao processar a requisio. Detalhes: ${response.error}`);\n    } else {\n      setUsersList(response.map((v) => { return { value: v.id, label: v.name } }));\n    }\n  }\n\n  function setUserFromLocation() {\n\n    if (!usersList) return;\n\n    const userFromQs = parseInt(query.get('user'));\n\n    const selectedUser = usersList.filter((v) => v.value === userFromQs);\n    setUser((userFromQs && selectedUser.length ? selectedUser[0] : false));\n  }\n\n  async function handleDelete(id) {\n    const response = await deleteComment(id);\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao excluir o registro';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      globalNotifications.sendSuccessMessage('Registro excluido');\n      setComments(comments.filter(comment => comment.id !== id));\n    }\n  }\n\n  return (\n    <div className=\"CommentsList\">\n      <h1 className=\"page-title\">Perguntas</h1>\n\n      <form className=\"comments-filter\">\n        <div className=\"form-field\">\n          <label htmlFor=\"teachers\">Filtro por Aluno / Professor:</label>\n          <div className=\"field\">\n            <Select\n              name=\"users\"\n              value={user}\n              onChange={value => setUser(value)}\n              options={usersList}\n              isMulti={false}\n              isSearchable={true}\n              placeholder=\"Selecione para filtrar\"\n              />\n          </div>\n        </div>\n        <div className=\"button\" onClick={e => setUser(null)}>limpar</div>\n      </form>\n\n      <div className=\"comments list-items\">\n        {!comments || comments.length <= 0 ? 'Nenhuma pergunta encontrada' :\n        comments.map(comment => (\n          <div key={comment.id} className=\"comment item\">\n              <div className=\"comment-wraper item-details\">\n                <div className=\"comment-header item-header\">\n                  <div className=\"comment-user item-title\">{comment.user && comment.user.name}</div>\n                  <div className=\"comment-lesson\">\n                    <Link to={`/cursos/${comment.lesson.module.course_id}/aula/${comment.lesson.id}/#comment-${comment.id}`} target=\"_blank\">\n                      {comment.lesson.module.course.name} &rsaquo; {comment.lesson.name}\n                    </Link>\n                  </div>\n                  <div className=\"comment-date button\">{moment(comment.created_at).format('DD/MM/YYYY')}</div>\n                </div>\n                <div className=\"comment-content item-content\">{comment.content}</div>\n              </div>\n              <div className=\"actions .button-group\">\n                <button className=\"button remove link mi\" onClick={e => handleDelete(comment.id)}>delete</button>\n              </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(CommentsList);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ProgressBar from '../../../../components/ProgressBar';\nimport { getUsers, deleteUser } from '../../../../services/users';\nimport { globalNotifications } from '../../../../services';\nimport ImgProtected from '../../../../components/ImgProtected';\n\nimport './styles.css';\n\nfunction UsersList() {\n  const [ users, setUsers ] = useState([]);\n  const [ searchTerm, setSearchTerm ] = useState('');\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  useEffect(() => {\n    loadUsers();\n  }, [searchTerm]);\n\n  async function loadUsers() {\n    globalNotifications.clearMessages();\n\n    const response = await getUsers(searchTerm, true);\n\n    if (response.error) {\n      globalNotifications.sendErrorMessage(response.error);\n      setUsers([]);\n    } else {\n      setUsers(response);\n    }\n  }\n\n  async function handleDestroyUser(user) {\n    if (window.confirm('Tem certeza que deseja excluir este usurio?')) {\n      const response = await deleteUser(user.id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel excluir o usurio');\n      } else {\n        globalNotifications.sendSuccessMessage('Aluno excluido com sucesso');\n        loadUsers();\n      }\n    }\n  }\n\n  return (\n    <div className=\"UsersList\">\n      <h1 className=\"page-title\">Lista de Alunos</h1>\n\n      <div className=\"search-form\">\n        <input className=\"search-input\" onChange={e => setSearchTerm(e.target.value)} value={searchTerm} type=\"search\" placeholder=\"Buscar nome do aluno\" />\n      </div>\n\n      <Link to=\"/admin/alunos/novo\" className=\"add-user button center-content\">\n        Adicionar Aluno\n        <i className=\"mi\">add_circle_outline</i>\n      </Link>\n\n      <div className=\"users\">\n        {(!users || users.length <= 0) ? 'Nenhum usurio encontrado' : users.map(user => (\n          <div key={user.id} className=\"User\">\n            <div className=\"user-photo\">\n              {user.photo &&\n                <ImgProtected file={user.photo} alt={user.name} />\n              }\n              {!user.photo &&\n                <img src=\"/images/default-user-photo.png\" alt=\"\" />\n              }\n            </div>\n            <div className=\"user-details\">\n              <Link to={`/admin/alunos/${user.id}`}>\n                <div className=\"user-name\">{user.name}</div>\n                <div className=\"user-courses\">\n                  <div className=\"key\">Cursos feitos:</div>\n                  <div className=\"value\">nome dos cursos</div>\n                </div>\n                <div className=\"user-questions\">\n                  <div className=\"key\">Perguntas:</div>\n                  <div className=\"value\">aula 1, aula 3</div>\n                </div>\n                <div className=\"user-answers\">\n                  <div className=\"key\">Respostas:</div>\n                  <div className=\"value\">aula 4, aula 5</div>\n                </div>\n              </Link>\n            </div>\n            <div className=\"user-progress\">\n              <div className=\"button-group\">\n                <Link to={`/admin/alunos/${user.id}/editar`} className=\"edit-user edit button small mi\">\n                  edit\n                </Link>\n                <button className=\"remove-user remove button small mi\" onClick={e => handleDestroyUser(user)}>\n                  delete\n                </button>\n              </div>\n              <ProgressBar className=\"user-progress-bar\" progress={user.progress || 0} />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default UsersList;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ProgressBar from '../../../../components/ProgressBar';\nimport { getUsers, deleteUser } from '../../../../services/users';\nimport { globalNotifications } from '../../../../services';\nimport ImgProtected from '../../../../components/ImgProtected';\n\nimport auth from '../../../../services/auth'\n\nimport axios from 'axios'\n\nimport './styles.css';\n\nfunction UsersList() {\n  const [ users, setUsers ] = useState([]);\n  const [ searchTerm, setSearchTerm ] = useState('');\n\n  const pegaUser = auth.currentUserValue;\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  async function loadUsers() {\n    let config = {\n      headers: {\n        Authorization: `Bearer ${pegaUser.token}`\n      }\n    }\n\n    const res = await axios.get(`${process.env.REACT_APP_API_URL}users?limit=25&page=1`, config)\n    const usersList = await res.data\n    console.log(usersList)\n    setUsers(usersList)\n    \n  }\n\n  function filterUsers(e) {\n    if (e.target.value.length < 1) { loadUsers() }\n    const filter = users.filter( (item) => item.name.toLowerCase().includes(e.target.value.toLowerCase()) )\n    setUsers(filter)\n  }\n\n  async function handleDestroyUser(user) {\n    if (window.confirm('Tem certeza que deseja excluir este usurio?')) {\n      const response = await deleteUser(user.id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel excluir o usurio');\n      } else {\n        globalNotifications.sendSuccessMessage('Aluno excluido com sucesso');\n        loadUsers();\n      }\n    }\n  }\n\n  return (\n    <div className=\"UsersList\">\n      <h1 className=\"page-title\">Lista de Users</h1>\n\n      <div className=\"search-form\">\n        <input className=\"search-input\" onChange={filterUsers} type=\"search\" placeholder=\"Buscar nome do aluno\" />\n      </div>\n\n      <Link to=\"/admin/alunos/novo\" className=\"add-user button center-content\">\n        Adicionar Aluno\n        <i className=\"mi\">add_circle_outline</i>\n      </Link>\n\n      <div className=\"users\">\n        {(!users || users.length <= 0) ? 'Nenhum usurio encontrado' : users.map(user => (\n          <div key={user.id} className=\"User\">\n            <div className=\"user-photo\">\n              {user.photo &&\n                <ImgProtected file={user.photo} alt={user.name} />\n              }\n              {!user.photo &&\n                <img src=\"/images/default-user-photo.png\" alt=\"\" />\n              }\n            </div>\n            <div className=\"user-details\">\n              <Link to={`/admin/alunos/${user.id}`}>\n                <div className=\"user-name\">{user.name}</div>\n                <div className=\"user-courses\">\n                  <div className=\"key\">Cursos feitos:</div>\n                  <div className=\"value\">nome dos cursos</div>\n                </div>\n                <div className=\"user-questions\">\n                  <div className=\"key\">Perguntas:</div>\n                  <div className=\"value\">aula 1, aula 3</div>\n                </div>\n                <div className=\"user-answers\">\n                  <div className=\"key\">Respostas:</div>\n                  <div className=\"value\">aula 4, aula 5</div>\n                </div>\n              </Link>\n            </div>\n            <div className=\"user-progress\">\n              <div className=\"button-group\">\n                <Link to={`/admin/alunos/${user.id}/editar`} className=\"edit-user edit button small mi\">\n                  edit\n                </Link>\n                <button className=\"remove-user remove button small mi\" onClick={e => handleDestroyUser(user)}>\n                  delete\n                </button>\n              </div>\n              <ProgressBar className=\"user-progress-bar\" progress={user.progress || 0} />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default UsersList;\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useParams } from 'react-router-dom';\nimport Dropzone from 'react-dropzone';\n\nimport ImgProtected from '../../../../components/ImgProtected';\nimport { globalNotifications, auth } from '../../../../services';\nimport { clearErrors, setupErrorMessages } from '../../../../helpers/handleFormFieldsError';\nimport { storeUser, findUser, updateUser } from '../../../../services/users';\nimport { getSchools } from '../../../../services/schools';\n\nimport './styles.css';\n\nfunction UsersSave({ history }) {\n  const { id } = useParams();\n  const levels = [\n    { value: 'admin', label: 'Administrador' },\n    { value: 'manager', label: 'Gerente' },\n    { value: 'student', label: 'Estudante' },\n  ];\n  const type = id ? 'update' : 'store';\n\n  const [ user, setUser ] = useState({});\n  const [ name, setName ] = useState('');\n  const [ email, setEmail ] = useState('');\n  const [ password, setPassword ] = useState('');\n  const [ level, setLevel ] = useState('');\n  const [ schoolId, setSchoolId ] = useState('');\n  const [ isTeacher, setIsTeacher ] = useState(false);\n  const [ photo, setPhoto ] = useState(null);\n\n  const [ schoolsList, setSchoolsList ] = useState([]);\n  const [ removePhoto, setRemovePhoto ] = useState(false);\n  const [ tempPhoto, setTempPhoto ] = useState(null);\n\n  useEffect(() => {\n    async function loadSchools() {\n      const response = await getSchools();\n      if (response.error) {\n        const err = response.error.message || 'Ocorreu um error ao carregar as lojas';\n        globalNotifications.sendErrorMessage(err);\n      } else {\n        setSchoolsList(response);\n      }\n    }\n\n    loadSchools();\n  }, []);\n\n  useEffect(() => {\n    async function loadUser() {\n      const response = await findUser(id);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel carregar os dados do usurio');\n        console.error(response.error);\n      } else {\n        setUser(response);\n        setName(response.name);\n        setEmail(response.email);\n        setLevel(response.level || '');\n        setSchoolId(response.school_id || '');\n        setIsTeacher(response.is_teacher ? true : false);\n      }\n    }\n\n    if (id) {\n      loadUser();\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (!removePhoto) return;\n\n    if (!user.photo) {\n      setRemovePhoto(false);\n      return;\n    }\n\n    handleSubmit();\n  }, [removePhoto]);\n\n  async function handleSubmit(e) {\n    if (e)\n      e.preventDefault();\n\n    // clear error messages\n    clearErrors();\n\n    const data = new FormData();\n\n    // if (type !== 'update' || name !== user.name)\n      data.append('name', name);\n    // if (type !== 'update' || email !== user.email)\n      data.append('email', email);\n    // if (type !== 'update' || level !== user.level)\n      data.append('level', level || null);\n    // if (type !== 'update' || schoolId !== user.schoolId)\n      data.append('school_id', schoolId);\n    // if (type !== 'update' || isTeacher !== user.is_teacher)\n      data.append('is_teacher', isTeacher === true ? 1 : 0);\n\n    // send password if is Store or if filled on Update\n    if (type !== 'update' || password !== '')\n      data.append('password', password);\n\n    // set photo file\n    if (photo)\n      data.append('photo', photo);\n\n    // is to remove current photo?\n    if (removePhoto)\n      data.append('remove_photo', true);\n\n    // Send data\n    const response = type === 'update' ?\n                      await updateUser(id, data) :\n                      await storeUser(data);\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao gravar os dados';\n      globalNotifications.sendErrorMessage(err);\n\n      setupErrorMessages(response.errors);\n    } else {\n      // if updated user is the current logged in application\n      // refresh infos of this user\n      if (auth.currentUserValue.id === user.id) {\n        auth.refreshUserData();\n      }\n\n      if (e) {\n        history.push('/admin/alunos');\n      }\n      if (removePhoto) {\n        setRemovePhoto(false);\n        globalNotifications.sendSuccessMessage('Foto removida');\n      }\n      setUser(response)\n    }\n  }\n\n  function handleFileDrop(acceptedFiles) {\n    if (acceptedFiles.length) {\n      var reader = new FileReader();\n      reader.onload = (e) => {\n        setTempPhoto(e.target.result);\n      };\n      reader.readAsDataURL(acceptedFiles[0]);\n\n      setPhoto(acceptedFiles[0]);\n    }\n  }\n\n  async function handleRemovePhoto() {\n    setTempPhoto(null);\n    setRemovePhoto(true);\n  }\n\n  return (\n    <div className=\"UsersSave\">\n      <h1 className=\"page-title\">{type === 'update' ? 'Editar' : 'Novo'} Usurio</h1>\n\n      <form onSubmit={handleSubmit} className=\"model-form content-box\">\n        <div className=\"user-photo-wraper\">\n          <div className=\"form-field\">\n            <label>Foto do Perfil:</label>\n            {(user.photo || tempPhoto) &&\n              <div className=\"photo-field\">\n                <div className=\"current-photo field\">\n                  {(!tempPhoto && user.photo) &&\n                    <ImgProtected file={user.photo} />\n                  }\n                  {(!removePhoto && tempPhoto && !user.photo) &&\n                    <img src={tempPhoto} alt=\"\" />\n                  }\n                </div>\n                <div className=\"button\" onClick={handleRemovePhoto}>Remover imagem</div>\n              </div>\n            }\n            {((type !== 'update' && !tempPhoto) || (!user.photo && !tempPhoto)) &&\n              <div className=\"photo-field upload-field field\">\n                <Dropzone onDrop={handleFileDrop}>\n                  {({getRootProps, getInputProps}) => (\n                    <section>\n                      <div {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <p>Arraste e solte um arquivo aqui, ou clique pare selecionar</p>\n                      </div>\n                    </section>\n                  )}\n                </Dropzone>\n              </div>\n            }\n          </div>\n        </div>\n\n        <div className=\"user-field\">\n          <div className=\"form-field\">\n            <label htmlFor=\"name\">Nome:</label>\n            <div className=\"field\">\n              <input id=\"name\" type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n            </div>\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"email\">E-mail:</label>\n            <div className=\"field\">\n              <input id=\"email\" type=\"text\" value={email} onChange={e => setEmail(e.target.value)} />\n            </div>\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"password\">Senha:</label>\n            <div className=\"field\">\n              <input id=\"password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\n            </div>\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"level\">Nvel:</label>\n            <div className=\"field\">\n              <select id=\"level\" type=\"text\" value={level} onChange={e => setLevel(e.target.value)}>\n                <option value=\"\">Selecione um nvel</option>\n                {levels.map(level => (\n                  <option key={level.value} value={level.value}>{level.label}</option>\n                  ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"school_id\">Loja:</label>\n            <div className=\"field\">\n              <select id=\"school_id\" value={schoolId} onChange={e => setSchoolId(e.target.value)}>\n                <option value=\"\">Selecione uma loja</option>\n                {schoolsList.map(school => (\n                  <option key={school.id} value={school.id}>{school.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"is_teacher-field form-field\">\n            <label htmlFor=\"is_teacher\">Professor?</label>\n            <div className=\"field\">\n              <input id=\"is_teacher\" type=\"checkbox\" checked={isTeacher} onChange={e => setIsTeacher(e.target.checked)} />\n            </div>\n          </div>\n          <div className=\"form-field\">\n            <button type=\"submit\">Gravar</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default withRouter(UsersSave);\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useParams, Link } from 'react-router-dom';\n\nimport ImgProtected from '../../../../components/ImgProtected';\nimport { globalNotifications } from '../../../../services';\nimport { findUser } from '../../../../services/users';\n\nimport './styles.css';\nimport ProgressBar from '../../../../components/ProgressBar';\nimport moment from 'moment';\n\nimport './styles.css';\n\nfunction UsersShow({ history }) {\n  const { id } = useParams();\n  const levels = {\n    admin: 'Administrador',\n    manager: 'Gerente',\n    student: 'Estudante',\n  };\n\n  const [ user, setUser ] = useState({});\n\n  useEffect(() => {\n    async function loadUser() {\n      const response = await findUser(id, true);\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage('No foi possvel carregar os dados do usurio');\n        console.error(response.error);\n      } else {\n        setUser(response);\n      }\n    }\n\n    if (id) {\n      loadUser();\n    }\n  }, [id]);\n\n  return (\n    <div className=\"UsersShow\">\n      <h1 className=\"page-title\">Dados do Usurio</h1>\n\n      <div className=\"user-fields\">\n        <div className=\"photo-field\">\n          {user.photo &&\n            <ImgProtected file={user.photo} alt={user.name} />\n          }\n          {!user.photo &&\n            <img src=\"/images/default-user-photo.png\" alt=\"\" />\n          }\n        </div>\n\n        <div className=\"user-detais\">\n          <div className=\"user-field\">\n            <div className=\"label\">Nome:</div>\n            <div className=\"value\">{user.name}</div>\n          </div>\n          <div className=\"user-field\">\n            <div className=\"label\">Email:</div>\n            <div className=\"value\">{user.email}</div>\n          </div>\n          <div className=\"user-field\">\n            <div className=\"label\">Nvel:</div>\n            <div className=\"value\">{levels[user.level]}</div>\n          </div>\n          {user.school &&\n            <div className=\"user-field\">\n              <div className=\"label\">Loja:</div>\n              <div className=\"value\">{user.school.name}</div>\n            </div>\n          }\n          <div className=\"user-field\">\n            <div className=\"label\">Professor:</div>\n            <div className=\"value\">{user.teacher ? 'Sim' : 'No'}</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"user-courses\">\n        <h3>Cursos em Progresso:</h3>\n        <div className=\"courses-list\">\n          {!user.courses || user.courses.length <= 0 ? 'Nenhum curso em progresso' :\n            user.courses.map(course => (\n              <div key={course.id} className=\"course\">\n                <Link className=\"course-name\" to={`/cursos/${course.id}`} target=\"_blank\">\n                  {course.name}\n                </Link>\n                <div className=\"course-progress\">\n                  <ProgressBar progress={course.progress} />\n                </div>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n\n      <div className=\"user-comments\">\n        <h3>Perguntas Realizadas:</h3>\n\n        <div className=\"comments-list list-items\">\n          {!user.comments || user.comments.length <= 0 ? 'Nenhuma pergunta realizada' :\n            user.comments.map(comment => (\n              <div key={comment.id} className=\"comment item\">\n                <div className=\"comment-wraper item-details\">\n                  <div className=\"comment-header item-header\">\n                    <div className=\"comment-user-date\">\n                      <div className=\"comment-user item-title\">{user.name}</div>\n                      <div className=\"comment-date\">{moment(comment.created_at).format('DD/MM/YYYY')}</div>\n                    </div>\n                    <div className=\"comment-lesson\">\n                      <Link to={`/cursos/${comment.lesson.module.course_id}/aula/${comment.lesson.id}/#comment-${comment.id}`} target=\"_blank\">\n                        {comment.lesson.module.course.name} &rsaquo; {comment.lesson.name}\n                      </Link>\n                    </div>\n                  </div>\n                  <div className=\"comment-content item-content\">{comment.content}</div>\n                </div>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(UsersShow);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { getSchools, deleteSchool } from '../../../../services/schools';\nimport { globalNotifications } from '../../../../services';\n\nfunction SchoolsList() {\n  const [ schools, setSchools ] = useState([]);\n\n  useEffect(() => {\n    async function loadSchools() {\n      globalNotifications.clearMessages();\n\n      const response = await getSchools();\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage(`Ocorreu um erro ao processar a requisio. Detalhes: ${response.error}`);\n      } else {\n        setSchools(response);\n      }\n    }\n\n    loadSchools();\n  }, []);\n\n  async function handleDelete(id) {\n    const response = await deleteSchool(id);\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao excluir o registro';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      globalNotifications.sendSuccessMessage('Registro excluido');\n      setSchools(schools.filter(school => school.id !== id));\n    }\n  }\n\n  return (\n    <div className=\"SchoolsList\">\n      <h1 className=\"page-title\">Lojas</h1>\n\n      <Link to=\"/admin/lojas/novo\" className=\"new-school button-add button\">Nova Loja</Link>\n\n      <table className=\"datatable\">\n        <thead>\n          <tr>\n            <th className=\"id\">ID</th>\n            <th className=\"name\">NOME</th>\n            <th className=\"actions\">AES</th>\n          </tr>\n        </thead>\n        <tbody>\n          {schools.map(school => (\n            <tr key={school.id}>\n              <td className=\"id\">{school.id}</td>\n              <td className=\"name\">{school.name}</td>\n              <td className=\"actions\">\n                <Link className=\"mi\" to={`/admin/lojas/${school.id}`}>edit</Link>\n                <button className=\"button-del link mi\" onClick={e => handleDelete(school.id)}>delete</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default SchoolsList;\n","import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nimport { findSchool, updateSchool } from '../../../../services/schools';\nimport { globalNotifications } from '../../../../services';\n\nfunction SchoolsShow() {\n  const { id } = useParams();\n\n  const [ school, setSchool ] = useState({});\n  const [ name, setName ] = useState('');\n  const [ isUpdating, setIsUpdating ] = useState(false);\n\n  useEffect(() => {\n    async function loadSchool() {\n      const response = await findSchool(id);\n\n      globalNotifications.clearMessages();\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage(response.error);\n      } else {\n        setSchool(response);\n      }\n    }\n\n    loadSchool();\n  }, [id]);\n\n  async function handleEditName() {\n    setName(school.name);\n    setIsUpdating(true);\n  }\n\n  async function handleUpdateName() {\n    if (name !== school.name) {\n      const response = await updateSchool(school.id, { name });\n      if (response.error) {\n        globalNotifications.sendErrorMessage(response.error);\n      } else {\n        globalNotifications.sendSuccessMessage('Gravado com sucesso');\n        setSchool(response);\n      }\n    }\n\n    setIsUpdating(false);\n  }\n\n  return (\n    <div className=\"SchoolsShow\">\n      <h1 className=\"page-title\">Detalhes da Loja</h1>\n\n      <Link className=\"back button\" to=\"/admin/lojas\">\n        <i className=\"mi mi-16\">navigate_before</i> voltar\n      </Link>\n\n      <div className=\"school-content model-content content-box\">\n        {school.name &&\n          <div className=\"school-name model-field\">\n            {!isUpdating &&\n              <>\n                <div className=\"value\">{school.name}</div>\n                <button className=\"edit-name link\" onClick={handleEditName}>(editar)</button>\n              </>\n            }\n            {isUpdating &&\n              <>\n                <input type=\"text\" value={name} onChange={e => setName(e.target.value)} onKeyUp={e => e.which === 13 ? handleUpdateName() : null} />\n                <button className=\"update-name link\" onClick={handleUpdateName}>(gravar)</button>\n              </>\n            }\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default SchoolsShow;\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport { storeSchool } from '../../../../services/schools';\nimport { globalNotifications } from '../../../../services';\n\nfunction SchoolsSave({ history }) {\n  const [ name, setName ] = useState('');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    globalNotifications.clearMessages();\n\n    const response = await storeSchool({ name });\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao gravar os dados';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      history.push('/admin/lojas');\n    }\n  }\n\n  return (\n    <div className=\"SchoolsSave\">\n      <h1 className=\"page-title\">Nova Loja</h1>\n\n      <form onSubmit={handleSubmit} className=\"model-form content-box\">\n        <div className=\"form-field\">\n          <label htmlFor=\"name\">Nome:</label>\n          <div className=\"field\">\n            <input id=\"name\" type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n          </div>\n        </div>\n        <div className=\"form-field\">\n          <button type=\"submit\">Gravar</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default withRouter(SchoolsSave);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories, deleteCategory } from '../../../../services/categories';\nimport { globalNotifications } from '../../../../services';\n\nfunction CategoriesList() {\n  const [ categories, setCategories ] = useState([]);\n\n  useEffect(() => {\n    async function loadCategories() {\n      globalNotifications.clearMessages();\n\n      const response = await getCategories();\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage(`Ocorreu um erro ao processar a requisio. Detalhes: ${response.error}`);\n      } else {\n        setCategories(response);\n      }\n    }\n\n    loadCategories();\n  }, []);\n\n  async function handleDelete(id) {\n    const response = await deleteCategory(id);\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao excluir o registro';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      globalNotifications.sendSuccessMessage('Registro excluido');\n      setCategories(categories.filter(category => category.id !== id));\n    }\n  }\n\n  return (\n    <div className=\"CategoriesList\">\n      <h1 className=\"page-title\">Categorias</h1>\n\n      <Link to=\"/admin/categorias/novo\" className=\"new-category button-add button\">Nova Categoria</Link>\n\n      <table className=\"datatable\">\n        <thead>\n          <tr>\n            <th className=\"id\">ID</th>\n            <th className=\"name\">NOME</th>\n            <th className=\"actions\">AES</th>\n          </tr>\n        </thead>\n        <tbody>\n          {categories.map(category => (\n            <tr key={category.id}>\n              <td className=\"id\">{category.id}</td>\n              <td className=\"name\">{category.name}</td>\n              <td className=\"actions\">\n                <Link className=\"mi\" to={`/admin/categorias/${category.id}`}>edit</Link>\n                <button className=\"button-del link mi\" onClick={e => handleDelete(category.id)}>delete</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default CategoriesList;\n","import React, { useState } from 'react';\nimport { storeCategory } from '../../../../services/categories';\nimport { withRouter } from 'react-router-dom';\nimport { globalNotifications } from '../../../../services';\n\nfunction CategoriesSave({ history }) {\n  const [ name, setName ] = useState('');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    globalNotifications.clearMessages();\n\n    const response = await storeCategory({ name });\n\n    if (response.error) {\n      const err = response.error.message || 'Ocorreu um erro ao gravar os dados';\n      globalNotifications.sendErrorMessage(err);\n    } else {\n      history.push('/admin/categorias');\n    }\n  }\n\n  return (\n    <div className=\"CategoriesSave\">\n      <h1 className=\"page-title\">Nova Categoria</h1>\n\n      <form onSubmit={handleSubmit} className=\"model-form content-box\">\n        <div className=\"form-field\">\n          <label htmlFor=\"name\">Nome:</label>\n          <div className=\"field\">\n            <input id=\"name\" type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n          </div>\n        </div>\n        <div className=\"form-field\">\n          <button type=\"submit\">Gravar</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default withRouter(CategoriesSave);\n","import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { findCategory, updateCategory } from '../../../../services/categories';\nimport { globalNotifications } from '../../../../services';\n\nfunction CategoriesShow() {\n  const { id } = useParams();\n\n  const [ category, setCategory ] = useState({});\n  const [ name, setName ] = useState('');\n  const [ isUpdating, setIsUpdating ] = useState(false);\n\n  useEffect(() => {\n    async function loadCategory() {\n      const response = await findCategory(id);\n\n      globalNotifications.clearMessages();\n\n      if (response.error) {\n        globalNotifications.sendErrorMessage(response.error);\n      } else {\n        setCategory(response);\n      }\n    }\n\n    loadCategory();\n  }, [id]);\n\n  async function handleEditName() {\n    setName(category.name);\n    setIsUpdating(true);\n  }\n\n  async function handleUpdateName() {\n    if (name !== category.name) {\n      const response = await updateCategory(category.id, { name });\n      if (response.error) {\n        globalNotifications.sendErrorMessage(response.error);\n      } else {\n        globalNotifications.sendSuccessMessage('Gravado com sucesso');\n        setCategory(response);\n      }\n    }\n\n    setIsUpdating(false);\n  }\n\n  return (\n    <div className=\"CategoriesShow\">\n      <h1 className=\"page-title\">Detalhes da Categoria</h1>\n\n      <Link className=\"back button\" to=\"/admin/categorias\">\n        <i className=\"mi mi-16\">navigate_before</i> voltar\n      </Link>\n\n      <div className=\"category-content model-content content-box\">\n        {category.name &&\n          <div className=\"category-name model-field\">\n            {!isUpdating &&\n              <>\n                <div className=\"value\">{category.name}</div>\n                <button className=\"edit-name link\" onClick={handleEditName}>(editar)</button>\n              </>\n            }\n            {isUpdating &&\n              <>\n                <input type=\"text\" value={name} onChange={e => setName(e.target.value)} onKeyUp={e => e.which === 13 ? handleUpdateName() : null} />\n                <button className=\"update-name link\" onClick={handleUpdateName}>(gravar)</button>\n              </>\n            }\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default CategoriesShow;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport PrivateRoute from './components/PrivateRoute';\nimport PageNotFound from './pages/PageNotFound';\n\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\n\nimport Login from './pages/Login';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport CoursesShow from './pages/Courses/CoursesShow';\n\nimport CoursesList from './components/CoursesList';\nimport CoursesSave from './pages/Admin/Courses/CoursesSave';\nimport CoursesEdit from './pages/Admin/Courses/CoursesEdit';\n\nimport CommentsList from './pages/Admin/Comments/CommentsList';\n\nimport UsersList from './pages/Admin/Users/UsersList';\nimport UsersNovo from './pages/Admin/Users/UsersList/users';\nimport UsersSave from './pages/Admin/Users/UsersSave';\nimport UsersShow from './pages/Admin/Users/UsersShow';\n\nimport SchoolsList from './pages/Admin/Schools/SchoolsList';\nimport SchoolsShow from './pages/Admin/Schools/SchoolsShow';\nimport SchoolsSave from './pages/Admin/Schools/SchoolsSave';\n\nimport CategoriesList from './pages/Admin/Categories/CategoriesList';\nimport CategoriesSave from './pages/Admin/Categories/CategoriesSave';\nimport CategoriesShow from './pages/Admin/Categories/CategoriesShow';\n\n\nfunction Routes() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/esqueci-minha-senha\" component={ForgotPassword} />\n        <Route path=\"/reset/:token\" component={ResetPassword} />\n\n        <Route path=\"/login\" component={Login} />\n        <PrivateRoute path=\"/\" exact component={Home} />\n\n        <PrivateRoute path=\"/perfil\" component={Profile} />\n\n        <PrivateRoute path=\"/cursos\" exact component={CoursesList} />\n        <PrivateRoute path=\"/cursos/:id\" exact component={CoursesShow} />\n        <PrivateRoute path=\"/cursos/:id/aula/:lessonId\" exact component={CoursesShow} />\n\n        <PrivateRoute path=\"/admin/lojas\" exact component={SchoolsList} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/lojas/novo\" exact component={SchoolsSave} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/lojas/:id\" component={SchoolsShow} onlyAdmin={true} />\n\n        <PrivateRoute path=\"/admin/categorias\" exact component={CategoriesList} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/categorias/novo\" exact component={CategoriesSave} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/categorias/:id\" component={CategoriesShow} onlyAdmin={true} />\n\n        <PrivateRoute path=\"/admin/cursos\" exact component={CoursesList} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/cursos/novo\" exact component={CoursesSave} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/cursos/:id/editar\" component={CoursesEdit} onlyAdmin={true} />\n\n        <PrivateRoute path=\"/admin/perguntas\" exact component={CommentsList} onlyAdmin={true} />\n\n        <PrivateRoute path=\"/admin/alunos\" exact component={UsersList} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/users\" exact component={UsersNovo} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/alunos/novo\" exact component={UsersSave} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/alunos/:id\" exact component={UsersShow} onlyAdmin={true} />\n        <PrivateRoute path=\"/admin/alunos/:id/editar\" exact component={UsersSave} onlyAdmin={true} />\n\n        <Route path=\"*\" component={PageNotFound} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default Routes;\n","import React from 'react';\nimport { Link, withRouter, NavLink } from 'react-router-dom';\n\nimport { auth } from '../../services';\nimport ImgProtected from '../ImgProtected';\n\nimport './styles.css';\n\n\n\nfunction Header({ logout, currentUser }) {\n  if (!currentUser) return null;\n\n  return (\n    <header className=\"Header\">\n      <Link className=\"logo\" to=\"/\">\n        <img src='/images/logo-academy-preto.png' />\n      </Link>\n\n      <nav className=\"menu\">\n        <ul>\n          {auth.isAdmin() &&\n            <li>\n              <span>Admin</span>\n              <ul>\n                <li className=\"nav-item\">\n                  <NavLink to={'/admin/lojas'}>Lojas</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink to={'/admin/users'}>Alunos</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink to={'/admin/cursos'}>Cursos</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink to={'/admin/perguntas'}>Perguntas</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink to={'/admin/categorias'}>Categorias</NavLink>\n                </li>\n              </ul>\n            </li>\n          }\n          <li>\n            <NavLink to=\"/cursos\">Cursos</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/perfil\">Meus Dados</NavLink>\n          </li>\n        </ul>\n      </nav>\n\n      {currentUser &&\n        <div className=\"user\">\n          <div className=\"user-photo\">\n            {currentUser.photo &&\n              <ImgProtected file={currentUser.photo} alt={currentUser.name} />\n            }\n            {!currentUser.photo &&\n              <img src=\"/images/default-user-photo.png\" alt=\"\" />\n            }\n          </div>\n          <div className=\"user-name\">\n            Ol, <span className=\"name\">{currentUser.name}</span>\n          </div>\n          <button className=\"logout-button\" onClick={e => auth.logout()}>Sair</button>\n        </div>\n      }\n    </header>\n  );\n}\n\nexport default withRouter(Header);\n","import React, { Component } from 'react';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n      info: '',\n      error: '',\n    };\n  }\n\n  componentDidCatch(error, info) {\n    this.setState({ hasError: true, error, info });\n\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n      console.log(`Error: ${error}`);\n      console.log(`Error Info: ${JSON.stringify(info)}`);\n    }\n  }\n\n  render () {\n    if (this.state.hasError) {\n      return (\n        <div className=\"error-message\">\n          <h1 className=\"error\">Ocorreu um erro na aplicao</h1>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React, { useState, useEffect } from 'react';\nimport globalNotifications from '../../services/globalNotifications';\n\nimport './styles.css';\n\nfunction GlobalNotifications() {\n  const [ notifications, setNotifications ] = useState([]);\n\n  useEffect(() => {\n    const subscription = globalNotifications.getMessage().subscribe(message => {\n      if (message) {\n        addMessage(message);\n      } else {\n        setNotifications([]);\n      }\n    })\n\n    return () => subscription.unsubscribe();\n  });\n\n  function addMessage(message) {\n    if (notifications.some(m => m.id === message.id)) {\n      return;\n    }\n\n    setNotifications([ ...notifications, message ]);\n\n    if (message.autoClose) {\n      setTimeout(() => dismissMessage(message), message.autoCloseTime || 3000);\n    }\n  }\n\n  function dismissMessage(message) {\n    const messages = notifications.filter(m => m.id !== message.id);\n    setNotifications(messages);\n  }\n\n  return (\n    <>\n    {notifications.length > 0 &&\n      <div className=\"notifications\">\n        {notifications.map(message => (\n          <div key={message.id} className={'message ' + message.type}>\n            <span dangerouslySetInnerHTML={{ __html: message.content }}></span>\n            <button className=\"close link\" onClick={e => dismissMessage(message)}>x</button>\n          </div>\n        ))}\n      </div>\n    }\n    </>\n  );\n}\n\nexport default GlobalNotifications;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { auth } from './services';\nimport Routes from './routes';\nimport Header from './components/Header';\n\nimport './App.css';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport GlobalNotifications from './components/GlobalNotifications';\n\nfunction App() {\n  const [ currentUser, setCurrentUser ] = useState(null);\n\n  useEffect(() => {\n    auth.currentUser.subscribe(setCurrentUser);\n  }, []);\n\n  return (\n    <BrowserRouter forceRefresh={true}>\n      <div className=\"App\">\n        <ErrorBoundary>\n          <Header currentUser={currentUser} />\n        </ErrorBoundary>\n        <main>\n          <GlobalNotifications />\n          <ErrorBoundary>\n            <Routes />\n          </ErrorBoundary>\n        </main>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}